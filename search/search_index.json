{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Center for Climate Systems Modeling (C2SM)","text":"<p>Welcome to the C2SM User Landing Page!</p> <p>Here we collect helpful information for scientists and partners about the C2SM core team, tasks, support, models, tools, datasets and much more.</p>"},{"location":"#core-team","title":"Core Team","text":"<p>The C2SM Core Team - or C2SM's Executive Office - currently employs six scientific programmers. Their work is distributed among the following areas:</p> <ul> <li>Tasks from the Working Groups</li> <li>Maintenance of supported models, tools and datasets</li> <li>Regular support for users</li> <li>EXCLAIM project</li> <li>Organisation of workshops</li> </ul>"},{"location":"#executive-director","title":"Executive Director","text":"<ul> <li>Christina Schnadt Poberaj  (CHN M 15.2)</li> </ul>"},{"location":"#scientific-programmers","title":"Scientific Programmers","text":"<ul> <li>Jonas Jucker  (CHN M 15.1)</li> <li>Michael J\u00e4hn  (CHN M 15.1)</li> <li>Annika Lauber  (CHN M 15.1)</li> <li>Ruth Lorenz  (CHN M 15.1)</li> <li>Matthieu Leclair  (CHN L 18)</li> <li>Urs Beyerle  (CHN N 16.2)</li> </ul>"},{"location":"#further-staff","title":"Further staff","text":"<p>Further information about C2SM project staff and previous core team members can be found at our ETH website .</p>"},{"location":"#how-to-get-access","title":"How to get Access","text":"<p>Please follow the step-by-step instructions below to get access to the C2SM organisation. This will allow you to submit new tasks, receive support from the C2SM Core Team and have access to supported models and tools. </p> <ol> <li>Create an account on GitHub .</li> <li>Get access to the C2SM GitHub organisation .</li> <li>Reach out to your group\u2019s technical contact and provide them with your GitHub account name.      They will be responsible for adding you to the appropriate user group. </li> <li>If you do not know who your group's technical contact is, please send an email to support@c2sm.ethz.ch.</li> </ol>"},{"location":"#are-you-a-new-member-of-the-c2sm-community","title":"Are you a new member of the C2SM community?","text":"<ul> <li>Designate a technical contact within your group, preferably a permanent member who is familiar with technical aspects.</li> <li>Contact us by visiting our office in person or by emailing us at support@c2sm.ethz.ch.</li> <li>Once contacted, we will initiate the setup of your group's user group on GitHub for effective collaboration.</li> </ul>"},{"location":"#c2sm-on-github","title":"C2SM on GitHub","text":"<p>C2SM maintains two GitHub organizations to distribute code to the community. </p>"},{"location":"#c2sm","title":"C2SM","text":"<p>This is our main GitHub organisation, which contains many repositories, including ICON.</p>"},{"location":"#c2sm-rcm","title":"C2SM-RCM","text":"<p>The C2SM-RCM organisation contains all codes related to COSMO and tools like EXTPAR. For questions and access, please contact Jonas Jucker.</p>"},{"location":"SUMMARY/","title":"SUMMARY","text":"<ul> <li>Home</li> <li>News</li> <li>Events</li> <li>Tasks</li> <li>User Support</li> <li>Alps</li> <li>Models</li> <li>Tools</li> <li>Datasets</li> <li>Best Practices</li> <li>Group Pages</li> </ul>"},{"location":"alps/","title":"Alps","text":"<p>Page under construction - last update: 2024-09-06</p> <p>Information in this page is not yet complete nor final. It will be updated following the progress of</p> <ul> <li>the Alps system deployment at CSCS</li> <li>C2SM's adaptation to this new system</li> </ul>"},{"location":"alps/#the-alps-system","title":"The Alps System","text":"<p>Alps is a distributed HPC infrastructure managed by CSCS. Contrary to traditional HPC, it is composed of several logical units called vClusters (versatile clusters). From the users perspective, they play the role of a traditional HPC machine, each vCluster being tailored to the needs of a specific community. This setup also enables geographical distribution of vClusters which facilitates geo-redundancy. The main physical piece of Alps is hosted at CSCS in Lugano and a detailed description can be found at their website .</p>"},{"location":"alps/#vclusters","title":"vClusters","text":"<p>The following table shows the current plan for the final vClusters distribution on Alps at CSCS (not the current situation).</p> vCluster Activity Share Daint User Lab ~ 800 GH nodes Clariden Machine Learning ~ 800 GH nodes Santis Weather &amp; Climate ~ 400 GH nodes T\u00f6di Testing few GH nodes Eiger multi-core nodes <p>GH = Grace Hopper</p>"},{"location":"alps/#early-access","title":"Early Access","text":"<p>For getting access to the vCluster dedicated to testing (T\u00f6di), CSCS offers Preparatory Projects . </p>"},{"location":"alps/#support-by-cscs","title":"Support by CSCS","text":"<p>To contact CSCS staff directly, users can join their dedicated Slack channel .</p>"},{"location":"alps/#file-systems","title":"File Systems","text":"<p>TODO</p> <ul> <li> <code>/users</code>, <code>/store</code> and <code>/scratch</code></li> <li> reserved space per vClsuter vs shared space</li> <li> ...</li> </ul>"},{"location":"alps/#introductory-workshop-material","title":"Introductory Workshop Material","text":"<p>As an introduction to the Alps infrastructure, the material of our C2SM workshop \"Switching to Alps\" from August 12, 2024 is available:</p> <ul> <li>Recording </li> <li>Slides presenting Alps, vClusters and Uenvs </li> <li>Slides for the integration of Uenvs in <code>spack-c2sm</code> </li> </ul>"},{"location":"alps/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Alps</li> <li>Supported vClusters</li> <li>User Environments</li> </ul>"},{"location":"alps/uenvs/","title":"User Environments","text":"<p>Page under construction - last update: 2024-09-06</p> <p>Information in this page is not yet complete nor final. It will be updated following the progress of</p> <ul> <li>the Alps system deployment at CSCS</li> <li>C2SM's adaptation to this new system</li> </ul>"},{"location":"alps/uenvs/#user-environments","title":"User Environments","text":"<p>Software stacks at CSCS are now accessible through the so-called User Environments (uenv). They replace the previous monolithic software stack containing everything from which one could load any module, with all the infinite potential conflicts it involves. User environments contain the minimal software stack required for a certain activity, say, building and running ICON. They are generated by <code>spack</code>, packed into single <code>squashfs</code> file and then mounted by the user. In a way, they can be considered as poor man's containers.</p> <p>Main Advantages of Uenvs</p> <p>To a large degree, we can consider that there is a separation of concerns between software stacks and the machine OS which enables the following:</p> <ul> <li>a much reduced maintenance of software stacks</li> <li>system-wide upgrades are limited to the low level OS, so should be way easier, when not transparent to the users</li> <li>upgrading to more recent software stacks or keeping old ones around (think compiler versions) is way easier</li> <li>users (for now C2SM) are able to build their own uenvs</li> <li>quicker access to software compared to classical multi-files directories</li> </ul>"},{"location":"alps/uenvs/#cscs-documentation","title":"CSCS documentation","text":"<p>A description of user environments and the <code>uenv</code> tool can be found in the CSCS Knowledge Base . </p>"},{"location":"alps/uenvs/#uenvs-central-registry-and-c2sm-uenvs","title":"Uenvs central Registry and C2SM uenvs","text":"<p>The user environments provided by CSCS are registered in a central database. In the long run we should be able to operate only with those but, at least for the initial period, there might also be the need for uenvs provided by C2SM. These are accessed by their absolute path. All supported uenvs are documented in the corresponding vClsuter section of the dedicated page.</p> <p>Warning</p> <p>Old software stack images didn't have a mount point in the metadata which is now required for the new versions of the <code>uenv</code> tool and its <code>--uenv</code> slurm plugin counterpart. If you have images in your local repository that are older than roughly September 5th, please pull them again. It will only update the metadata </p>"},{"location":"alps/uenvs/#the-uenv-command-line-tool","title":"The <code>uenv</code> command line tool","text":"<p>Official documentation </p> <p>It can be used to</p> <ul> <li>query images by metadata: tags, names, target architecture, etc ...</li> <li>mount images and work interactively</li> <li>run a single command with that uenv mounted</li> <li>access uenv modules</li> </ul> <p>For now, <code>uenv</code> isn't available on Balfrin and requires (easy) manual installation : <pre><code>git clone https://github.com/eth-cscs/uenv.git &amp;&amp; ./uenv/install --local\n</code></pre></p>"},{"location":"alps/uenvs/#quickstart","title":"Quickstart","text":"<p>In the following - using <code>name/version:tag</code> as metadata to target a uenv can be replaced by the absolute path to the image if necessary. - when a mount point can be passed to a command it defaults to a path stored in the uenv metadata, most often <code>/user-environment</code></p>"},{"location":"alps/uenvs/#create-a-local-images-repository","title":"Create a local images repository","text":"<p>In order to be able to use uenv images, you first need to <code>pull</code>them into a local repository. First create the repo with <pre><code>uenv repo create\n</code></pre></p>"},{"location":"alps/uenvs/#list-available-images","title":"List available images","text":"<pre><code>uenv image find\n</code></pre>"},{"location":"alps/uenvs/#pull-an-image-in-the-local-repo","title":"Pull an image in the local repo","text":"<pre><code>uenv image pull name/version:tag\n</code></pre>"},{"location":"alps/uenvs/#start-a-uenv-for-interactive-use","title":"Start a uenv for interactive use","text":"<p>This will spawn a new shell with the uenv mounted at <code>/mount-point</code> <pre><code>uenv start name/version:tag [/mount-point]\n</code></pre> Exit with a usual <code>exit</code> or <code>uenv stop</code>.</p>"},{"location":"alps/uenvs/#use-modules","title":"Use modules","text":"<p>Software in a uenv can be accessed by using it as a <code>spack</code> upstream (see <code>spack-c2sm</code> integration) but also by loading modules. For that, use the <code>--view=modules</code> option: <pre><code>uenv start --view=modules name/version:tag [/mount-point]\n</code></pre> A usual <code>module avail</code> command would then show you the different modules added by the uenv on top of the original environment</p>"},{"location":"alps/uenvs/#launch-a-subprocess-with-a-uenv-mounted","title":"launch a subprocess with a uenv mounted","text":"<p><pre><code>uenv run name/version:tag[:mount-point] -- my_command\n</code></pre> will run <code>my_command</code> (can be executing a script) with the uenv mounted. This is particularly useful inside scripts. </p>"},{"location":"alps/uenvs/#the-uenv-slurm-plugin","title":"The <code>--uenv</code> SLURM plugin","text":"<p>CSCS developped the <code>--uenv</code> slurm plugin in order to mount uenvs at runtime. Either use the name of a uenv in your local repo or the full absolute path to the uenv.</p> <pre><code>sbatch --uenv name/version:tag[:/mount/point]\nsbatch --uenv /image/path[:/mount/point]\n</code></pre> <p>as for the <code>uenv</code> CLI, <code>:/mount/point</code> can always be omitted and defaults to what is found in the uenv metadata. </p> <p>On Balfrin, the installed plugin version doesn't allow access via uenv names but <code>uenv image inspect</code> can be used to query the corresponding absolute path:</p> <pre><code>uenv image inspect prgenv-gnu --format=\"{sqfs}\"\n/bret/scratch/cscs/bcumming/.uenv-images/images/1736b4bb5ad9b3c5cae8878c71782a8bf2f2f739dbce8e039b629de418cb4dab/store.squashfs\n</code></pre>"},{"location":"alps/uenvs/#mount-points","title":"Mount points","text":"<p>Uenvs cannot be mounted anywhere. They are generated with a predefined installation path contained in it, where the user is supposed to mount them. By default the <code>uenv</code> tool and slurm plugin will use the path found in the metadata, ususally <code>/user-environment</code> and sometimes <code>/user-tools</code>. The later path exists for side environments that would potentially need to be mounted simultaneously to a main one.</p>"},{"location":"alps/uenvs/#spack-c2sm-integration","title":"<code>spack-c2sm</code> integration","text":"<p>User environments are supported in <code>spack-c2sm</code> versions newer than <code>v0.21.1.3</code>. <pre><code>git clone --depth 1 --recurse-submodules --shallow-submodules -b v0.21.1.3 https://github.com/C2SM/spack-c2sm.git\n</code></pre> Then start the user environment and use it as a spack upstream with <pre><code>uenv start name/version:tag /mount/point\nsource spack-c2sm/setup-env.sh /mount/point\n</code></pre></p> <p>TODO</p> <ul> <li> Update official <code>spack-c2sm</code> documentation</li> </ul>"},{"location":"alps/vclusters/","title":"Supported vClusters","text":"<p>Page under construction - last update: 2024-09-06</p> <p>Information in this page is not yet complete nor final. It will be updated following the progress of</p> <ul> <li>the Alps system deployment at CSCS</li> <li>C2SM's adaptation to this new system</li> </ul>"},{"location":"alps/vclusters/#supported-vclusters","title":"Supported vClusters","text":"<p>This page is hosting information about C2SM supported vClusters (not all CSCS vClusters). </p>"},{"location":"alps/vclusters/#access","title":"Access","text":"<p>Connection to vClusters happens as for any other CSCS machine, e.g. <code>ssh santis.cscs.ch</code> with a <code>ProxyJump</code> on <code>ela.cscs.ch</code>. A section in the <code>~/.ssh/config</code> could look as follows:</p> ~/.ssh.config<pre><code>Host ela\n  Hostname ela.cscs.ch\n  User cscsusername\n  IdentityFile ~/.ssh/cscs-key\n\nHost balfrin* daint* santis* todi*\n  Hostname %h.cscs.ch\n  User cscsusername\n  IdentityFile ~/.ssh/cscs-key\n  ProxyJump ela\n</code></pre> <p>This would allow standard connections like <code>ssh santis</code> but also specifying the login node like <code>ssh santis-ln002</code> if needed. Replace <code>cscsusername</code> with your actual user name.</p>"},{"location":"alps/vclusters/#daint","title":"Daint","text":"<p>Daint (Alps) is the vCluster dedicated to the User Lab. It is currently accessible at <code>daint.alps.cscs.ch</code> (until the current Piz Daint gets decommissioned), so connect with <code>ssh daint.alps</code> with the <code>ssh</code> settings above.</p> <p>Even though Weather and Climate also has the dedicated vCluster Santis (see below), traditional projects might also land on Daint.</p>"},{"location":"alps/vclusters/#uenvs","title":"Uenvs","text":"<p>List of currently supported Uenvs on Daint:</p> uenv activity Remark icon-vx:rcy build and run ICON Not deployed (yet?) netcdf-tools/2024:v1-rc1 pre- and post-processing tools"},{"location":"alps/vclusters/#storage","title":"Storage","text":"<p>TODO</p> <ul> <li> Storage</li> </ul>"},{"location":"alps/vclusters/#santis","title":"Santis","text":"<p>Santis has not been deployed yet.</p> <p>Santis is dedicated to Weather and Climate. It might, at the beginning, only host EXCLAIM  and related projects.</p>"},{"location":"alps/vclusters/#uenvs_1","title":"Uenvs","text":"uenv activity icon-vx:rcy build and run ICON netcdf-tools/tag:version pre- and post-processing tools"},{"location":"alps/vclusters/#storage_1","title":"Storage","text":"<p>TODO</p> <ul> <li> Storage</li> </ul>"},{"location":"alps/vclusters/#todi","title":"T\u00f6di","text":"<p>T\u00f6di is the testing vCluster and is currently deployed on the most of the Alps system.</p>"},{"location":"alps/vclusters/#uenvs_2","title":"Uenvs","text":"uenv activity icon-wcp/v1:rc4 build and run ICON netcdf-tools/2024:v1-rc1 pre- and post-processing tools"},{"location":"best_practices/","title":"Best Practices","text":"<p>Here, you'll find valuable resources for improving your coding and data handling skills. For those new to coding, we emphasize the importance of using version control with Git and implementing automatic testing to ensure high-quality, reliable software. We offer courses and materials on Git, along with examples of various types of tests to help you maintain robust code. </p> <p>Additionally, our data handling section provides guidelines for effective data management, including links to ETH resources, data repositories, and licensing advice to help you manage and share your research data responsibly and efficiently.</p>"},{"location":"best_practices/coding/","title":"Coding","text":"<p>Whether you are new to coding or already working on it, there are two important things to remember: always use version control and add automatic testing. These steps will make things easier for you and everyone you work with. Also, try out tools that can make coding easier for you.</p>"},{"location":"best_practices/coding/#version-control-with-git","title":"Version Control with Git","text":"<p>Git is a popular tool for managing source code. C2SM repositories are hosted on GitHub, which uses Git as its version control system.</p> <p>If you're new to Git or want to improve your Git skills, we recommend attending our annual Git for Beginners and/or Git for Advanced courses. Additionally, all course materials are publicly available and can be used throughout the year. For more details, please visit Technical Events - Git Courses.</p>"},{"location":"best_practices/coding/#key-concepts-of-git","title":"Key Concepts of Git","text":"<ul> <li>Repository (Repo): A Git repository is a container for a software project. It stores the complete history of the project, including all files, directories, and changes made over time. Repositories can be hosted locally or remotely on platforms like GitHub, GitLab, or Bitbucket.</li> <li>Commit: A commit is a fundamental concept in Git, representing a snapshot of the codebase at a particular point in time. Each commit is identified by a unique SHA-1 hash, contains a descriptive message explaining the changes, and references the previous commit, forming a version history.</li> <li>Branches: Branches allow developers to work on separate lines of development. The primary branch is usually called 'master' or 'main', while feature branches enable the development of new features or bug-fix branches for addressing issues without affecting the main codebase.</li> <li>Merge: Merging is the process of combining changes from one branch into another. Git provides tools to automatically or manually resolve conflicts that may arise when merging different branches.</li> </ul>"},{"location":"best_practices/coding/#github-workflow","title":"GitHub Workflow","text":"<p>When working together with Git, follow these simple steps for a smooth collaborative process:</p> <ol> <li>Clone: Get a copy of the remote repository you want to work on.</li> <li>Branch Out: Create a branch with a name that describes your development.</li> <li>Development Zone: Work on your feature within that branch.</li> <li>Pull Request (PR): When you are finished, open a pull request from your feature branch to the main one. Request a review.</li> <li>Refinement: Make any necessary changes until it's approved.</li> <li>Merge Time: Once the revisions are done and the tests are green, merge your feature branch into the main branch.</li> </ol>"},{"location":"best_practices/coding/#automatic-testing","title":"Automatic Testing","text":"<p>Code testing is a critical step in software development. It's about finding and fixing problems to make sure the software works well, is of high quality and reliable. Testing involves checking different parts of the code to make sure the software is strong and free of bugs. The specific tests you need will depend on your project and its requirements. Here is a list of tests that are usually very useful.</p>"},{"location":"best_practices/coding/#unit-tests","title":"Unit Tests","text":"<p>These tests are for testing individual components or functions of your code to ensure they work correctly in isolation. Find an example for unit tests  in our spack-c2sm repository. </p>"},{"location":"best_practices/coding/#integrations-tests","title":"Integrations Tests","text":"<p>These tests are to check how different parts of your code work together and communicate with each other. Find an example for integration tests  in our spack-c2sm repository.</p>"},{"location":"best_practices/coding/#system-tests","title":"System Tests","text":"<p>These tests are performed to ensure that all the components and modules of a software system work together as intended and that the system meets its specified requirements and functions correctly in its operational environment. Find an example for system tests  in our spack-c2sm repository.</p>"},{"location":"best_practices/coding/#tolerance-tests","title":"Tolerance tests","text":"<p>These tests are used in the development of ICON, specifically when code is ported from CPU to GPU. The results when running on CPU and GPU are not bit identical, therefore a tolerance range is accepted when comparing a test case to the CPU reference. The accepted tolerance range is created by running an ensemble of the same test case with different perturbations. MeteoSwiss has developed probtest  for handling everything related to tolerance tests with ICON. If you have a DKRZ account and are working with ICON-NWP, you can also check out the manual for Generating tolerances for non-standard tests .</p>"},{"location":"best_practices/coding/#git-hooks-github-actions","title":"Git Hooks &amp; GitHub Actions","text":"<p>Git Hooks are local scripts in Git that make sure things get done right when you work on your code. GitHub Actions, on the other hand, are integrated with GitHub and allow you to automate code management workflows. They can be run automatically on GitHub whenever something is committed.</p> <p>Check out our Git course for examples of Custom Git Hooks  hooks, and read GitHub's documentation on GitHub Actions .</p>"},{"location":"best_practices/coding/#useful-tools-for-coding","title":"Useful tools for coding","text":"<p>Two popular tools for coding are Visual Studio (VS) Code  and PyCharm . Here are instructions for setting up and using Visual Studio Code with SSH on a CSCS machine.</p>"},{"location":"best_practices/coding/#vs-code","title":"VS Code","text":"<ol> <li>Download  and install VS Code on your computer.</li> <li>Install extensions:<ul> <li>Open VS Code.</li> <li>Look for the 'Extensions' icon in the sidebar (it looks like four small squares).</li> <li>Install the extensions you need for your coding work. We recommend:<ul> <li>Python: for Python development support</li> <li>GitLens: to improve Git functionality</li> <li>vim: if you prefer Vim keybindings</li> <li>Remote-SSH: to connect to remote machines</li> </ul> </li> </ul> </li> <li>Use VS Code with SSH on CSCS:<ul> <li>Install the \"Remote-SSH\" extension.</li> <li>Ensure VS Code remains active when working on CSCS:<ul> <li>Activate the \"Remote.SSH: Remote Server Listen On Socket\" option in \"Remote-SSH: Settings\".</li> </ul> </li> </ul> </li> </ol>"},{"location":"best_practices/data_handling/","title":"Data Handling","text":""},{"location":"best_practices/data_handling/#c2sm-data-management-guidelines","title":"C2SM data management guidelines","text":"<p>C2SM Data Management Recommendations 2020 </p>"},{"location":"best_practices/data_handling/#eth-links","title":"ETH Links","text":"<ul> <li>Research Data at ETH Zurich </li> <li>New Guidelines for Research Data Management  -&gt; PDF </li> <li>Forschungsdatenmanagement und Datenerhalt </li> <li>ETH Guidelines for Research Integrity </li> <li>ETH Research Collection </li> <li>Add your ORCID ID to your ETH account </li> <li>ETH Guidelines for data management plans </li> </ul>"},{"location":"best_practices/data_handling/#eth-contacts","title":"ETH Contacts","text":"<ul> <li>DMPs: Digital Curation Office, ETH Library, ETH Zurich, ETH Digital Curation Webpage </li> <li>Research Collection: Barbara Hirschmann, ETH Research Collection, ETH Library, ETH Zurich, ETH Research Collection Webpage </li> <li>openBIS software: Dr. Caterina Barillari, ETH SIS, ETH Personal Page </li> </ul>"},{"location":"best_practices/data_handling/#data-repositories","title":"Data repositories","text":"<ul> <li>C2SM datasets</li> <li>Directory of data repositories </li> <li>ETH research collection </li> <li>Zenodo </li> <li>IAC data pool </li> <li>IAC gitlab </li> </ul>"},{"location":"best_practices/data_handling/#open-access-journals","title":"Open access journals","text":"<ul> <li>Directory of open access journals </li> <li>Check specific journal access policy </li> </ul>"},{"location":"best_practices/data_handling/#funding-agencies-open-access-policies","title":"Funding agencies open access policies","text":"<ul> <li>Open research data @SNSF </li> <li>Check specific funder archiving mandates </li> </ul>"},{"location":"best_practices/data_handling/#licensing","title":"Licensing","text":"<ul> <li>Advices on how to license research data </li> <li>Creative commons licenses </li> <li>Open data commons licenses </li> <li>GNU licenses </li> <li>Open definition for data </li> <li>Creative commons and open science </li> <li>Copyleft definition </li> <li>Why avoiding non-commercial licenses? </li> <li>Advices on how to cite datasets </li> <li>SPDX (standard for easy sofware licensing </li> </ul>"},{"location":"best_practices/data_handling/#help-on-improving-netcdf-metadata","title":"Help on improving NetCDF metadata","text":"<ul> <li>IAC internal documentation on NetCDF in general  (!with IAC login only)</li> <li>Climate and Forecast (CF) conventions </li> <li>Python CF checker </li> <li>CMIP6 controlled vocabularies </li> </ul>"},{"location":"blog/","title":"News","text":""},{"location":"blog/SUMMARY/","title":"SUMMARY","text":"<ul> <li>News</li> </ul>"},{"location":"blog/2023/08/22/git-for-advanced-workshop/","title":"Git for Advanced Workshop","text":"<p>We are pleased to announce our next Git for Advanced workshop, which will take place on Thursday, September 28th from 9:00 am to 12:30 pm.</p> <p>The registration is now open (30 places available). Places will be confirmed on a first-come, first-served basis.</p> <p>More information about the workshop content and the registration form can be found at Git for Advanced Workshop 2023 .</p>"},{"location":"blog/2023/11/09/climate-model-and-climate-data-workshop/","title":"Climate Model and Climate Data Workshop","text":"<p>We are pleased to announce our first Climate model and climate data workshop, which will take place on Wednesday December 6th from 9:30 am to 3:00 pm at Eawag in D\u00fcbendorf.</p> <p>The workshop will give an introduction to what a climate model is, how it works and is tailored to the impacts community.</p> <p>The registration is now open (30 places available). Places will be confirmed on a first-come, first-served basis.</p> <p>More information about the workshop content and the registration form can be found on the dedicated C2SM website page </p>"},{"location":"blog/2023/11/30/cosmoicon-user-workshop/","title":"COSMO/ICON User Workshop","text":"<p>We are pleased to announce the COSMO/ICON User Workshop on Monday February 12th, 2024 as a physical meeting.  It will take place at the Radisson Blu Hotel, next to MeteoSwiss.</p> <p>The COSMO/ICON User Workshop is a rather informal one-day event, whose goal is to bring together users and developers of these two models,  to share experience and knowledge, and to get insights into some projects involving these models. </p> <p>Please register for the workshop by email to andreas.pauling@meteoswiss.ch by December 18th, 2023. You are strongly encouraged to present a poster or to give a talk at this informal event!  Please include a preliminary title in your email if you plan to do so.</p>"},{"location":"blog/2024/02/28/git-for-beginners-workshop/","title":"Git for Beginners Workshop","text":"<p>We are pleased to announce our next Git for Beginners workshop, which will take place on Thursday, April 11th from 9:30 am to 3:00 pm.</p> <p>The registration is now open (30 places available). Places will be confirmed on a first-come, first-served basis.</p> <p>More information about the workshop content and the registration form can be found at Git for Beginners Workshop 2024 .</p>"},{"location":"blog/2024/03/18/scientific-visualisation-using-python/","title":"Scientific Visualisation using Python","text":"<p>Our next Scientific Visualisation using Python workshop will take place on Thursday and Friday, April 25th to April 26th from 9:00 am to 5:00 pm.</p> <p>Registration is open (30 places available), and places will be confirmed on a first-come, first-served basis.</p> <p>For more information about the workshop content and the registration form, please visit Scientific Visualisation using Python 2024 .</p>"},{"location":"blog/2024/07/01/visual-update/","title":"Visual Update","text":"<p>We are pleased to announce that our website has a new design as of today! With this change, we are trying to standardise the documentation we provide to the C2SM community.  Although the look has changed, you should be able to find all the necessary information as before, as the general menu structure has been maintained.</p>"},{"location":"blog/2024/07/01/visual-update/#why-we-chose-material-for-mkdocs","title":"Why We Chose Material for MkDocs","text":"<p>For this redesign, we chose Material for MkDocs , a tool that generates modern and responsive documentation pages based on Markdown files. Material for MkDocs is also the tool of choice for CSCS and their documentation pages.</p> <p>A big advantage of Material for MkDocs is how it helps us keep a consistent style across all our documentation, as we are more efficient when writing documentation and can reuse the configuration, style sheets and quality checkers.</p>"},{"location":"blog/2024/07/01/visual-update/#new-features","title":"New Features","text":"<ul> <li>Enable switching between dark and light mode</li> <li>News are managed with the <code>blog</code> feature and appear more prominently in the navigation bar</li> <li>Table of Content now visible for each site on the right side bar</li> <li>Clear distinction between internal and external hyperlinks</li> <li>Replaced Datasets tables with sections and listings</li> <li>The source code  is now public (so you can try it out by yourself)</li> </ul>"},{"location":"blog/2024/07/01/visual-update/#your-thoughts-matter","title":"Your Thoughts Matter","text":"<p>Your feedback is crucial for us as we continue to improve. Please let us know if you have any suggestions or thoughts on the new design.</p>"},{"location":"blog/2024/07/02/switching-to-alps/","title":"Switching to Alps","text":"<p>As you probably all know the new Alps system  is currently being set up at CSCS. With this machine, CSCS introduced major changes, of course in the hardware, but also in the user experience.</p> <p>Piz Daint being scheduled to be decommissioned at the end of August, we are organizing a workshop to guide our users in this transition on August, 12th from 10:00 to 12:00 at ETHZ in CHN-L17.1 and over zoom at https://ethz.zoom.us/j/63402117251. The event will be recorded and the password for online participation will be sent the day before. </p> <p>We will cover the following:</p> <ul> <li>The new Alps system and its virtual clusters</li> <li>How to operate on Alps using the so-called user environments (presentation and demo)</li> <li>integration of uenvs in spack-c2sm with a focus on ICON (presentation and demo)</li> <li>Q&amp;A</li> </ul>"},{"location":"blog/2024/07/29/git-for-advanced-workshop/","title":"Git for Advanced Workshop","text":"<p>We are pleased to announce our next Git for Advanced workshop, which will take place on Wednesday, September 25th from 9:00 am to 12:30 pm.</p> <p>The registration is now open (30 places available). Places will be confirmed on a first-come, first-served basis.</p> <p>More information about the workshop content and the registration form can be found at Git for Advanced Workshop 2024 .</p>"},{"location":"blog/2024/08/14/new-information-about-the-alps-system-available/","title":"New information about the Alps system available","text":"<p>Since the transition from Piz Daint to the new Alps infrastructure is already taking place,  we have added a new navigation section Alps to collect all necessary information there.</p> <p>Most importantly, C2SM users will find details about the new vClusters as well as how to use User Environments (uenvs) in order to access the software stacks.</p>"},{"location":"datasets/","title":"Datasets","text":"<p>C2SM provides different climate datasets such as CMIP5, CMIP6 or CORDEX, as downloaded from the original sources, as well as processed datasets such as the so-called CMIP6-NextGeneration (CMIP6-ng) archive.</p> <p>Since July 2024, C2SM offers access to climate model and reanalysis data via our web-based climate data extraction tool Zephyr, available at https://zephyr.ethz.ch . Zephyr allows you to request climate data from C2SM and simultaneously extract specific regions or individual grid points directly from your browser. Once your request has been submitted and successfully processed, you will receive a download link to access your requested data directly from your web browser.</p> <p>If you need access to other climate datasets, contact us at support@c2sm.ethz.ch or add an issue  and we will support you with your request.</p>"},{"location":"datasets/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Datasets</li> <li>Climate Model Data</li> <li>Observational and Re-analysis Datasets</li> <li>CORDEX-FPSCONV Data</li> </ul>"},{"location":"datasets/climate_model_data/","title":"Climate Model Data","text":""},{"location":"datasets/climate_model_data/#raw-cmip-archives","title":"Raw CMIP Archives","text":"<p>Info</p> <p>The data is available as downloaded from ESGF.</p> <p>Note</p> <p>\"Resolution: native\" means that each model output is available on the native grid on which it was run. Size and file information last updated in June 2021.</p>"},{"location":"datasets/climate_model_data/#cmip2","title":"CMIP2","text":"IAC <pre><code>/net/atmos/data/cmip2\n</code></pre> <ul> <li>Size: 0.01 TB </li> <li>Number of files: 500</li> <li>Access: direct / rsync</li> <li>Status: frozen (2010-10)</li> <li>Resolution: native</li> </ul>"},{"location":"datasets/climate_model_data/#cmip3","title":"CMIP3","text":"IAC <pre><code>/net/atmos/data/cmip3\n</code></pre> <ul> <li>Size: 6 TB</li> <li>Number of files: 40.000</li> <li>Access: direct / rsync</li> <li>Status: frozen (2016-12)</li> <li>Resolution: native</li> </ul>"},{"location":"datasets/climate_model_data/#cmip5","title":"CMIP5","text":"IAC <pre><code>/net/atmos/data/cmip5\n</code></pre> <ul> <li>Size: 130 TB</li> <li>Number of files: 700.000</li> <li>Access: direct / rsync</li> <li>Status: monthly updated</li> <li>Resolution: native</li> </ul>"},{"location":"datasets/climate_model_data/#cmip6","title":"CMIP6","text":"IACEuler <pre><code>/net/atmos/data/cmip6\n</code></pre> <pre><code>/nfs/atmos/c2sm/cmip6\n</code></pre> <ul> <li>Size: 520 TB </li> <li>Number of Files: 5.500.000</li> <li>Access: direct / rsync</li> <li>Status: weekly updated</li> <li>Resolution: native</li> </ul>"},{"location":"datasets/climate_model_data/#cmip-next-generation","title":"CMIP Next Generation","text":"<p>Info</p> <p>The datasets are checked, standardized, and regridded to common grid.</p> <p>Note</p> <p>Next Generation (ng) archives were maintained by Reto's group (Jan Sedlacek/Lukas Brunner). Ruth Lorenz / C2SM took over cmip6-ng in 2022. Contact: cmip6-archive@env.ethz.ch. Documentation: https://doi.org/10.5281/zenodo.373412 .</p>"},{"location":"datasets/climate_model_data/#cmip3-ng","title":"CMIP3-ng","text":"IAC <pre><code>/net/atmos/data/cmip3-ng\n</code></pre> <ul> <li>Size: 0.5 TB</li> <li>Number of files: 5.000</li> <li>Access: direct / rsync</li> <li>Status: frozen (2019-03)</li> <li>Variables: n/a</li> <li>Resolution: native and 2.5\u00b0x2.5\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cmip5-ng","title":"CMIP5-ng","text":"IAC <pre><code>/net/atmos/data/cmip5-ng\n</code></pre> <ul> <li>Size: 33 TB</li> <li>Number of files: 100.000</li> <li>Access: direct / rsync</li> <li>Status: frozen (2019-03)</li> <li>Variables: n/a</li> <li>Resolution: native and 2.5\u00b0 x 2.5\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cmip6-ng","title":"CMIP6-ng","text":"IACEuler <pre><code>/net/atmos/data/cmip6-ng\n</code></pre> <pre><code>/nfs/atmos/c2sm/cmip6-ng\n</code></pre> <ul> <li>Size: 200.71 TB </li> <li>Number of files: 664,698 </li> <li>Access: direct / rsync</li> <li>Status: frozen (2019-03)</li> <li>Variables:    <code>areacella</code>,   <code>clt</code>,   <code>co2mass</code>,   <code>evspsbl</code>,   <code>evspsblsoi</code>,   <code>evspsblveg</code>,   <code>gpp</code>,   <code>hfds</code>,   <code>hfls</code>,   <code>hfss</code>,   <code>hurs</code>,   <code>huss</code>,   <code>lai</code>,   <code>masks</code>,   <code>mrro</code>,   <code>mrros</code>,   <code>mrso</code>,   <code>mrsol</code>,   <code>mrsos</code>,   <code>nbp</code>,   <code>npp</code>,   <code>pr</code>,   <code>prw</code>,   <code>ps</code>,   <code>psl</code>,   <code>ra</code>,   <code>rh</code>,   <code>rlds</code>,   <code>rldscs</code>,   <code>rlus</code>,   <code>rlut</code>,   <code>rlutcs</code>,   <code>rsds</code>,   <code>rsdscs</code>,   <code>rsdt</code>,   <code>rsus</code>,   <code>rsuscs</code>,   <code>rsut</code>,   <code>rsutcs</code>,   <code>rtmt</code>,   <code>sfcWind</code>,   <code>sftlf</code>,   <code>siconc</code>,   <code>ta</code>,   <code>tas</code>,   <code>tasmax</code>,   <code>tasmin</code>,   <code>tauu</code>,   <code>tauv</code>,   <code>tos</code>,   <code>tran</code>,   <code>treeFrac</code>,   <code>tsl</code>,   <code>uas</code>,   <code>vas</code>,   <code>zg500</code>,   <code>zos</code></li> <li>Resolution: native and 2.5\u00b0 x 2.5\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#raw-cordex","title":"Raw CORDEX","text":"<p>Info</p> <p>The data is available as downloaded.</p>"},{"location":"datasets/climate_model_data/#cordex","title":"CORDEX","text":"IACEulerCSCS <pre><code>/net/atmos/data/cordex\n</code></pre> <pre><code>/nfs/atmos/c2sm/cordex\n</code></pre> <pre><code>/store/c2sm/c2sme/cordex\n</code></pre> <ul> <li>Size: 356.97 TB </li> <li>Number of files: 552,595 </li> <li>Access: direct / rsync</li> <li>Status: monthly updated</li> <li>Resolution: 0.44\u00b0 and 0.11\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cordex-reklies","title":"CORDEX-ReKliEs","text":"IACEuler <pre><code>/net/atmos/data/cordex-reklies\n</code></pre> <pre><code>/nfs/atmos/c2sm/cordex-reklies\n</code></pre> <ul> <li>Size: 22.41 TB </li> <li>Number of files: 94,936 </li> <li>Access: direct</li> <li>Status: monthly updated</li> <li>Resolution: 0.11\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cordex-data-for-climate-scenarios","title":"CORDEX Data for Climate Scenarios","text":"<p>Info</p> <p>The data is checked, and regridded to identical grids if necessary.</p>"},{"location":"datasets/climate_model_data/#cordexch2018","title":"CORDEX.ch2018","text":"IACCSCS <pre><code>/net/ch4/data/cordex.ch2018-freeze-2.1\n</code></pre> <pre><code>/store/c2sm/c2sme/cordex.ch2018-freeze-2.1\n</code></pre> <ul> <li>Size: 11 TB</li> <li>Number of files: 1.800</li> <li>Access: direct</li> <li>Status: frozen (2019-04)</li> <li>Variables:    <code>hfls</code>,   <code>hfss</code>,   <code>hurs</code>,   <code>huss</code>,   <code>pr</code>,   <code>prc</code>,   <code>ps</code>,   <code>psl</code>,   <code>rlds</code>,   <code>rlus</code>,   <code>rsds</code>,   <code>rsus</code>,   <code>sfcWind</code>,   <code>sund</code>,   <code>tas</code>,   <code>evspsbl</code>,   <code>hus850</code>,   <code>mrro</code>,   <code>mrso</code>,   <code>rlut</code>,   <code>rsdt</code>,   <code>rsut</code>,   <code>snd</code>,   <code>snw</code>,   <code>ta200</code>,   <code>ta500</code>,   <code>ta850</code>,   <code>ts</code>,   <code>ua500</code>,   <code>ua850</code>,   <code>uas</code>,   <code>va500</code>,   <code>va850</code>,   <code>vas</code>,   <code>zg500</code>,   <code>clt</code>,   <code>prhmax</code>,   <code>prsn</code>,   <code>sfcWindmax</code>,   <code>snc</code>,   <code>tasmax</code>,   <code>tasmin</code>,   <code>wsgsmax</code>,   <code>orog</code>,   <code>sftlf</code></li> <li>Resolution: 0.44\u00b0 and 0.11\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cordexch2025","title":"CORDEX.ch2025","text":"IAC <pre><code>/net/ch4/data/cordex.ch2025/\n</code></pre> <ul> <li>Size: 46 TB </li> <li>Number of files: 3.500</li> <li>Access: direct</li> <li>Status: ongoing</li> <li>Variables: <ul> <li>daily: <code>pr</code>, <code>tas</code>, <code>tasmax</code>, <code>tasmin</code>, <code>zg500</code></li> </ul> </li> <li>Resolution: 0.44\u00b0 and 0.11\u00b0</li> </ul>"},{"location":"datasets/climate_model_data/#cordex-fpsconv","title":"CORDEX-FPSCONV","text":"IACCSCS <pre><code>/net/krypton/hyclimm_nobackup/CORDEX-FPSCONV/ALP-3/\n</code></pre> <pre><code>/store/c2sm/c2sme/CH202X/CORDEX-FPSCONV/ALP-3/\n</code></pre> <ul> <li>Size: 30 TB</li> <li>Number of files: 22.949</li> <li>Access: direct / rsync</li> <li>Status: ongoing</li> <li>Variables:<ul> <li>1hr: <code>pr</code>, <code>tas</code></li> <li>daily: <code>pr</code>, <code>tas</code>, <code>tasmax</code>, <code>tasmin</code></li> </ul> </li> <li>Resolution: 2-3 km</li> </ul>"},{"location":"datasets/cordex_fpsconv_data/","title":"CORDEX-FPSCONV Data","text":"<p>The CORDEX-FPSCONV dataset is a multi-model ensemble of convection permitting regional climate model runs created within WCRP-CORDEX . The model runs are described in Coppola et al. 2020 , Ban et al. 2021  and Pichelli et al. 2021  and cover the ALP-3 domain.</p> <p></p> <p>So far, only the data from ETH (CLMcom-ETH-COSMO-crCLIM) has been CMORized (more info about this effort in this pdf , for all other models the data format is a preliminary version (from ~September 2022) and not the one that will go to ESGF. Currently, the data archive contains mainly 1-hourly precipitation and temperature and daily maximum temperature and minimum temperature. These 4 variables have been used in three MSc theses and went through basic checks. The other variables (in 6hr, day) have been copied from the J\u00fclich server but have not been used and were not checked.</p> <p>Four different time periods are available: * Evaluation: ca. 2000-2009 (varies for some models) * Historical: ca. 1996-2005 (varies for some models) * RCP8.5: 2041-2050 and 2090-2099 (not all modelling groups run both time periods) </p> <p>Each modelling group performed an evaluation run (precipitation is described in Ban et al. 2021). Not all groups continued with historical and rcp8.5 runs. The groups running WRF joined together to run historical and scenario runs (therefore they were sometimes run on different machines).</p> <p>An overview of which variables are available for which runs can be found at ETH's polybox . More details about the different model runs, such as info about the driving RCM and domains, can be found under this link .</p>"},{"location":"datasets/cordex_fpsconv_data/#data-availability","title":"Data Availability","text":"<p>The data can be found at CSCS: <code>/store/c2sm/c2sme/CH202X/CORDEX-FPSCONV/ALP-3</code></p> <p>The data is mirrored daily to the IAC via <code>rsync</code> to: <code>/net/krypton/hyclimm_nobackup/CORDEX-FPSCONV/ALP-3</code></p>"},{"location":"datasets/obs_reanalysis_data/","title":"Observational and Re-analysis Datasets","text":"<p>Note</p> <p>File size information last updated in May 2022.</p>"},{"location":"datasets/obs_reanalysis_data/#raw-archives","title":"Raw Archives","text":"<p>Info</p> <p>Dataset available as downloaded from the original source.</p>"},{"location":"datasets/obs_reanalysis_data/#cerra","title":"CERRA","text":"IAC <pre><code>/net/atmos/data/cerra/original\n</code></pre> <ul> <li>Size: 16 TB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1985 - present</li> <li>Variables: <code>2t</code>, <code>t</code>, <code>r</code>, ...</li> <li>Temporal Resolution: 3-hourly</li> <li>Spatial Resolution: 5 km x 5 km</li> <li>More information: sub-daily regional reanalysis data for Europe, Wishlist , Download Status </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#cerra-land","title":"CERRA-Land","text":"IAC <pre><code>/net/atmos/data/cerra-land/original\n</code></pre> <ul> <li>Size: 12 TB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1985 - present</li> <li>Variables: <code>snom</code>, <code>sro</code>, <code>tp</code>, ...</li> <li>Temporal Resolution: 3-hourly</li> <li>Spatial Resolution: 5 km x 5 km</li> <li>More information: CDS , Wishlist , Download Status </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#e-obs","title":"E-OBS","text":"IAC <pre><code>/net/atmos/data/E-OBS\n</code></pre> <ul> <li>Size: 660 GB</li> <li>Access: direct</li> <li>Status: different versions, updated irregularly</li> <li>Time period: 1950 - present</li> <li>Variables:<ul> <li><code>TG</code>: mean temperature</li> <li><code>TN</code>: minimum temperature</li> <li><code>TX</code>: maximum temperature</li> <li><code>RR</code>: precipitation sum</li> <li><code>PP</code>: mean sea level pressure</li> <li><code>FG</code>: mean wind speed</li> <li><code>HU</code>: mean relative humidity</li> <li><code>QQ</code>: global radiation</li> </ul> </li> <li>Temporal Resolution: daily</li> <li>Spatial Resolution: 0.1\u00b0 and 0.25\u00b0</li> <li>More information: E-OBS , CDS </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#erainterim","title":"ERAInterim","text":"CSCS <pre><code>/store/c2sm/c2sme/reanalyses_dkrz/ERAInterim\n</code></pre> <ul> <li>Size: 5 TB</li> <li>Access: direct</li> <li>Status: static</li> <li>Time period: 1979-2019</li> <li>Variables: <code>FIS</code>, <code>FR_LAND</code>, <code>FR_SEA_ICE</code>, <code>PS</code>, <code>QC</code>, <code>QI</code>, <code>QV</code>, <code>T</code>, <code>T_SKIN</code>, <code>T_SNOW</code>, <code>T_SO</code>, <code>U</code>, <code>V</code>, <code>W_SNOW</code>, <code>W_SO_REL</code></li> <li>Temporal Resolution: 6-hourly</li> <li>Spatial Resolution: 0.7\u00b0 x 0.7\u00b0 (80 km) global</li> </ul>"},{"location":"datasets/obs_reanalysis_data/#era5-for-icon-clm","title":"ERA5 (for ICON-CLM)","text":"CSCS <pre><code>/store/c2sm/c2sme/reanalyses_dkrz/ERA5\n</code></pre> <ul> <li>Size: 54 TB</li> <li>Number of files: 21,460</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1979 - present</li> <li>Variables: <code>FIS</code>, <code>FR_LAND</code>, <code>FR_SEA_ICE</code>, <code>PS</code>, <code>QC</code>, <code>QI</code>, <code>QR</code>, <code>QS</code>, <code>QV</code>, <code>T</code>, <code>T_SKIN</code>, <code>T_SNOW</code>, <code>T_SO</code>, <code>U</code>, <code>V</code>, <code>W_SNOW</code>, <code>W_SO_REL</code></li> <li>Temporal Resolution: hourly</li> <li>Spatial Resolution: 0.28125\u00b0 x 0.28125\u00b0 (31 km)</li> <li>More information: ERA5 at CDS </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#era5","title":"ERA5","text":"IAC <pre><code>/net/atmos/data/era5_cds/original\n</code></pre> <ul> <li>Size: 17 TB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1940 - present</li> <li>Variables: <code>2t</code>, <code>tp</code>, <code>10si</code>, <code>mn2t</code>, <code>mx2t</code></li> <li>Temporal Resolution: monthly, hourly (variable dependent)</li> <li>Spatial Resolution: 0.25\u00b0 x 0.25\u00b0</li> </ul>"},{"location":"datasets/obs_reanalysis_data/#era5-land","title":"ERA5-Land","text":"IAC <pre><code>/net/atmos/data/era5-land_cds/original\n</code></pre> <ul> <li>Size: 40 TB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1950 - present</li> <li>Variables: <code>2t</code>, <code>snom</code></li> <li>Temporal Resolution: hourly (variable dependent)</li> <li>Spatial Resolution: 0.1\u00b0 x 0.1\u00b0</li> <li>More information: ERA5-Land </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#merra2","title":"MERRA2","text":"IAC <pre><code>/net/atmos/data/MERRA2\n</code></pre> <ul> <li>Location: IAC</li> <li>Size: 15 TB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1980 - present</li> <li>Variables: many, temperature, precipitation, radiation, sea level pressure etc.</li> <li>Temporal Resolution: hourly, sst monthly</li> <li>Spatial Resolution: 0.5 lat x 0.625 lon (~50km)</li> <li>More information: MERRA-2 , Climate Data Guide </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#processed-archives","title":"Processed Archives","text":"<p>Info</p> <p>Datasets are aggregated or regridded.</p>"},{"location":"datasets/obs_reanalysis_data/#cerra_1","title":"CERRA","text":"IAC <pre><code>/net/atmos/data/cerra/processed/v1/\n</code></pre> <ul> <li>Size: 7.72 TB </li> <li>Number of files: 1,824 </li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1985-2020</li> <li>Variables:    <code>10si</code>,   <code>10wdir</code>,   <code>2r</code>,   <code>2t</code>,   <code>eva</code>,   <code>gph500</code>,   <code>liqvsm</code>,   <code>mn2t</code>,   <code>mx2t</code>,   <code>r</code>,   <code>sd</code>,   <code>sde</code>,   <code>sf</code>,   <code>skt</code>,   <code>slhf</code>,   <code>sp</code>,   <code>sshf</code>,   <code>ssr</code>,   <code>ssrd</code>,   <code>str</code>,   <code>strd</code>,   <code>t</code>,   <code>u</code>,   <code>v</code>,   <code>vsw</code></li> <li>Temporal Resolution: daily, monthly</li> <li>Spatial Resolution: 5x5km</li> <li>More information: Sub-daily regional reanalysis data for Europe, CDS , Status </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#cerra-land_1","title":"CERRA-Land","text":"IAC <pre><code>/net/atmos/data/cerra-land/processed/v1/\n</code></pre> <ul> <li>Size: 1.78 TB </li> <li>Number of files: 1,016 </li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1985-2020</li> <li>Variables:    <code>eva</code>,   <code>sd</code>,   <code>skt</code>,   <code>slhf</code>,   <code>snom</code>,   <code>sro</code>,   <code>sshf</code>,   <code>ssr</code>,   <code>ssrd</code>,   <code>str</code>,   <code>strd</code>,   <code>tp</code>,   <code>vsw</code></li> <li>Temporal Resolution: daily, monthly</li> <li>Spatial Resolution: 5x5km</li> <li>More information: CDS , Status </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#e-obs-and-mch","title":"E-OBS and MCH","text":"IAC <pre><code>/net/co2/c2sm-data/ch202X/Obs_Data/EOBS/0.1deg_reg_v23.1e/processed/\n/net/co2/c2sm-data/ch202X/Obs_Data/EOBS/0.1deg_reg_v26.0e/processed/\n</code></pre> <ul> <li>Size: 141 GB</li> <li>Number of files: 12</li> <li>Access: direct</li> <li>Status: static</li> <li>Time period: 1971-2020</li> <li>Variables: <ul> <li>v23.1e: <code>CDD</code>, <code>TXx</code>, <code>pr</code>, <code>tas</code>, <code>tasmax</code>, <code>tasmin</code></li> <li>v26.0e: <code>pr</code>, <code>tas</code>, <code>tasmax</code>, <code>tasmin</code></li> </ul> </li> <li>Temporal Resolution: daily</li> <li>Spatial Resolution: 0.11\u00b0</li> <li>More information: E-OBS (v23.1e and v26.0e) data with higher resolution MCH data over Switzerland (prepared for CH2025)</li> </ul>"},{"location":"datasets/obs_reanalysis_data/#era5_1","title":"ERA5","text":"IACEuler <pre><code>/net/atmos/data/era5_cds/processed/\n</code></pre> <pre><code>/nfs/atmos/c2sm/era5/processed/v2\n</code></pre> <ul> <li>Size: 45.76 TB </li> <li>Number of files: 138,400 </li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: v1: 1940-present, v2: 1980-present</li> <li>Variables:    <code>cbh</code>,   <code>cl</code>,   <code>clt</code>,   <code>d2m</code>,   <code>hur</code>,   <code>hurs</code>,   <code>pr</code>,   <code>ps</code>,   <code>psl</code>,   <code>rlds</code>,   <code>rls</code>,   <code>rsds</code>,   <code>sfcWind</code>,   <code>strd</code>,   <code>ta</code>,   <code>tas</code>,   <code>tasmax</code>,   <code>tasmin</code>,   <code>ua</code>,   <code>uas</code>,   <code>va</code>,   <code>vas</code>,   <code>zg</code></li> <li>v2: Variable list and progress </li> <li>Temporal Resolution: daily, monthly</li> <li>Spatial Resolution: 0.25\u00b0 x 0.25\u00b0</li> <li>More information: CDS </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#era5-land_1","title":"ERA5-Land","text":"IAC <pre><code>/net/atmos/data/era5-land_cds/processed/v1/\n</code></pre> <ul> <li>Size: 6.64 TB </li> <li>Number of files: 1,504 </li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: 1950-present</li> <li>Variables:    <code>2d</code>,   <code>2t</code>,   <code>e</code>,   <code>pev</code>,   <code>sd</code>,   <code>snom</code>,   <code>swvl1</code>,   <code>swvl2</code>,   <code>swvl3</code>,   <code>swvl4</code>,   <code>tp</code></li> <li>Temporal Resolution: daily, monthly</li> <li>Spatial Resolution: 0.1\u00b0 x 0.1\u00b0</li> <li>More information: CDS </li> </ul>"},{"location":"datasets/obs_reanalysis_data/#merra2_1","title":"MERRA2","text":"IAC <pre><code>/net/co2/c2sm-data/rlorenz/MERRA2/\n</code></pre> <ul> <li>Size: 17 GB</li> <li>Access: direct</li> <li>Status: updated</li> <li>Time period: v0: 1980-2015, v1: 1980-2018</li> <li>Variables: <code>tas</code>, <code>tasmax</code>, <code>tasmin</code>, <code>huss</code>, <code>psl</code>, <code>pr</code>, <code>hfss</code>, <code>hfls</code>, <code>rlus</code>, <code>rlds</code>, <code>rsds</code>, <code>rsus</code>, <code>tos</code></li> <li>Temporal Resolution: daily, monthly</li> <li>Spatial Resolution: 2.5 lat x 2.5 lon (same as cmip6-ng)</li> <li>More information: Files are consistent with cmip-ng archives, no time period is indicated in filenames</li> </ul>"},{"location":"datasets/obs_reanalysis_data/#mch","title":"MCH","text":"IAC <pre><code>/net/co2/c2sm-data/ch202X/Obs_Data/MCH/processed/\n</code></pre> <ul> <li>Size: 7 GB</li> <li>Access: direct</li> <li>Status: static</li> <li>Time period: 1971-2021</li> <li>Variables: <code>tas</code>, <code>tasmax</code>, <code>tasmin</code>, <code>pr</code></li> <li>Temporal Resolution: daily</li> <li>Spatial Resolution: ~2km</li> <li>More information: Gridded observational data from MeteoSwiss over Switzerland</li> </ul>"},{"location":"events/","title":"Technical Events","text":"<p>C2SM organises technical events  such as the Quarterly ICON Meeting, the COSMO/ICON User Workshop, Git Courses for Beginners and Advanced Users, the Python Visualization Course and the Climate Model and Climate Data Workshop.</p>"},{"location":"events/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Events</li> <li>ICON Meeting</li> <li>COSMO/ICON User Workshop</li> <li>Git Courses</li> <li>Python Visualisation Course</li> <li>Climate Model and Data Workshop</li> </ul>"},{"location":"events/climate_model_workshop/","title":"Climate Model and Climate Data Workshop","text":"<p>C2SM is offering a climate model and climate data workshop for the C2SM Impacts community. This workshop is part of our technical training . The workshop provides an introduction to the concept and functionality of climate models and includes a short hands-on session. We answer questions like \"How do climate models work?\", talk about considerations when using climate model data and give a short introduction to  re-\u200banalysis and observational data.</p> <p>The course took place for the first time December 6th 2023 and we are planning to repeat it annually.</p>"},{"location":"events/climate_model_workshop/#links","title":"Links","text":"<ul> <li>climate-model-workshop repository (exercises) </li> <li>Slides 2023 </li> </ul>"},{"location":"events/git_courses/","title":"Git Courses","text":"<p>C2SM offers two annual Git courses as part of our technical training . The Git for Beginners course provides an introduction to basic Git commands. For users who already have some experience with Git, we recommend to join our Git for Advanced workshop, which focuses on improved workflow and advanced Git commands.</p>"},{"location":"events/git_courses/#links","title":"Links","text":"<ul> <li>git-course repository (exercises) </li> <li>Slides Git for Beginners 2024 </li> <li>Slides Git for Advanced 2023 </li> </ul>"},{"location":"events/pyvis/","title":"Python Visualisation Course","text":"<p>C2SM together with SIS (Scientific IT Services)  offers an annual visualisation programming course in Python as part of our technical training . The two-day course is designed for individuals with a basic understanding of Python programming. Most of the examples and exercises used in the course are from the field of climate research.</p>"},{"location":"events/pyvis/#links","title":"Links","text":"<ul> <li>course repository (exercises) </li> </ul>"},{"location":"events/CIUW/","title":"COSMO-ICON User Workshop","text":"<p>The COSMO-ICON User Workshop is a rather informal one-day event,  whose goal is to bring together users and developers of these two models,  to share experience and knowledge, and to get insights into some  projects involving these models.</p>"},{"location":"events/CIUW/2024/","title":"COSMO-ICON User Workshop 2024","text":"<p>12 February 2024, MeteoSwiss</p>"},{"location":"events/CIUW/2024/#talks","title":"Talks","text":"<ul> <li>The effect of 3\u00b0C global warming on hail in Europe using a PGW approach in COSMO  - Iris Thurnherr, ETHZ</li> <li>An ICON model hierarchy for improving the understanding of heatwaves  - Emanuele Russo, ETHZ</li> <li>Ensemble-based CH4 inversions with ICON-ART using a flow-dependent observation error  - Michael Steiner, EMPA</li> <li>Towards large-eddy simulations (dx=100m) with ICON over Switzerland  - Brigitta Goger, C2SM</li> <li>ICON4Py: porting ICON to Python with GT4Py  - Magdalena Luz and Sam Kellerhals, C2SM</li> <li>KENDA goes ICON: Overview of the MeteoSwiss Data Assimilation activities  - Daniel Leuenberger, MeteoSwiss</li> </ul>"},{"location":"events/CIUW/2024/#posters","title":"Posters","text":""},{"location":"events/CIUW/2024/#session-1","title":"Session 1","text":"<ul> <li>Revisiting Machine Learning Approaches for Short- and Longwave Radiation Inference in ICON  - Guillaume Bertoli, ETHZ</li> <li>Towards a seamless, probabilistic gridded forecast for severe wind and rain warnings  - Verena Bessenbacher, MeteoSwiss</li> <li>Modelling atmospheric cycling of trace elements using ICON-ART  - Andrea Stenke, ETHZ</li> <li>The Impact of Sponge-Layer and Vertical-Grid Settings on the Atmospheric Representation in ICON - Clarissa Kroll, ETHZ</li> <li>The COPAT2 initiative of the CLM community: towards a recommended configuration of COSMO-CLM and ICON-CLM new model versions  - Emanuele Russo, ETHZ</li> <li>Using ICON-LES to investigate ice crystal growth in high fog within the CLOUDLAB projec  - Nadja Omanovic, ETHZ</li> </ul>"},{"location":"events/CIUW/2024/#session-2","title":"Session 2","text":"<ul> <li>Offline-Coupling of the Lagrangian Particle Dispersion Model FLEXPART to ICON  - Stephan Henne, Empa</li> <li>Urban climate and CO2 simulations with ICON-ART accounting for spatially varying urban properties  - Kutay D\u00f6nmez, Empa</li> <li>Operational snow-hydrological modeling for Switzerland  - Jan Magnusson, SLF</li> <li>Towards Future Air Quality Simulations with ICON-ART  - Corina Keller, Empa</li> <li>CO2 fluxes inversions with ICON-ART and CTDAS for the city of Zurich  - Nikolai Ponomarev, Empa</li> <li>Probtest \u2013 Assessing the Reliability of GPU Port Validation  - Annika Lauber, C2SM</li> </ul>"},{"location":"events/CIUW/2024/#session-3","title":"Session 3","text":"<ul> <li>Facilitating Weather and Climate Workflows: Processing Chain v3.1-6  - Michael J\u00e4hn, C2SM</li> <li>Forecast quality of ICON compared to COSMO - Pirmin Kaufmann, MeteoSwiss</li> <li>ICON-HAM: first insights towards global high resolution simulations  - Mikael Stellio, MeteoSwiss</li> <li>Status of ICON on GPU and ICON in Python  - Christoph M\u00fcller, MeteoSwiss</li> <li>Redefining decision making: introducing probabilistic forecast products to aviation applications  - Roman Attinger, MeteoSwiss</li> <li>Enabling ICON in a python framework: first results  - Chia Rui Ong, C2SM</li> <li>Usage of COSMO/ICON in the operational production chain of MeteoSwiss general public weather forecasts  - Mathieu Sch\u00e4r, MeteoSwiss</li> <li>Exploring Aiida for FLEXPART, Lucas Fernandez, Empa</li> </ul>"},{"location":"events/CIUW/SUMMARY/","title":"SUMMARY","text":"<ul> <li>COSMO/ICON User Workshop</li> <li>2024</li> </ul>"},{"location":"events/icon_meetings/","title":"Quarterly ICON Meeting","text":"<p>We invite C2SM community members to participate in our quarterly C2SM ICON Meeting, which is designed to facilitate knowledge exchange among researchers and users. This regular meeting serves as a forum for the C2SM community to discuss their ongoing projects, share research findings, and collaborate effectively. The meeting also offers an avenue to receive updates on the latest developments in the ICON model from the C2SM Core Team. Moreover, it encourages interactions and collaboration with research groups from ETH Zurich, MeteoSwiss, Empa, and CSCS. </p> <p>In case you have any questions or suggestions, contact the meeting organiser, Michael J\u00e4hn .</p>"},{"location":"events/icon_meetings/#c2sm-icon-mailing-list","title":"C2SM ICON Mailing List","text":"<p>As a member of the <code>c2sm.icon</code> mailing list, you will receive all relevant information around ICON and invitations to the quarterly ICON meeting. </p> <p>If you or someone from your group is not yet a member of the <code>c2sm.icon</code> mailing list, subscribe by sending an e-mail to:  <code>mailto:sympa@sympa.ethz.ch?subject=SUBSCRIBE%20c2sm.icon%20firstname%20lastname</code> (modify <code>firstname</code> and <code>lastname</code> in the subject).</p> <p>To check which lists you are subscribed to, send an e-mail to: <code>mailto:sympa@sympa.ethz.ch?subject=WHICH</code></p>"},{"location":"events/icon_meetings/2022-1/","title":"ICON Meeting 2022/1","text":"<p>15 February 2022, inline via Zoom</p>"},{"location":"events/icon_meetings/2022-1/#participants","title":"Participants","text":"<p>Michael J\u00e4hn (MJ), Annika Lauber (AL), David Ochsner (DO), Tina Schnadt, Stephanie Westerhuis (SW), Guy de Morsier ( GdM), Stefan R\u00fcdis\u00fchli (SR), Philipp Sommer (PS), Michael Steiner (MS), Emmanuelle Russo (ER), Sylvaine Ferrachat (SF), Victoria Cherkas (VC), Boriana Chtirkova (BC), Doris Folini (DF), William Sawyer, Anurag Dipankar (AD), Nadja Omanovic (NO), Andrea Stenke (AS), Oliver Fuhrer (OF), Kseniya Ivanova (KI), Romain Pilon (RP), Andr\u00e9 Walser (AW), Shweta Singh (SS), Carlos Osuna (CO)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2022-1/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2022-1/#c2sm-michael-jahn-annika-lauber","title":"C2SM (Michael J\u00e4hn, Annika Lauber)","text":"<p>MJ welcomes all participants to the meeting and presents C2SM ICON news .</p>"},{"location":"events/icon_meetings/2022-1/#short-presentations-from-participants","title":"Short presentations from participants","text":"<p>SW presents her work  on cooling of the surface during a clear-sky night. How well can ICON simulate that? During a case study ICON stays close to 0\u00b0C even for temperatures going down to -15\u00b0C. Reach out if you also want to compare model output to measurements.</p> <p>GdM talks about pressure bias for which they have found potential causes. The boundary values are fixed and should not have been considered. Tried to use ICON-EU boundary condition but doesn't change problem either.</p> <p>AW works on GPU porting. Will soon have  MeteoSwiss virtual clusters on ALPS and run benchmarks. Is still working on sspt implementation. Did not handle wind correctly, should always provide wind components on lat-lon grid. BC asks which remapping tool he is using. AW uses iconremap within ICONtools. SS asks if problems only apply to wind field or also other variables? AW answer that wind fields are special because they are vectors.</p> <p>SS does ICON-NWP simulation and looks at tracer transport.</p> <p>VC worked on the benchmarks and was working on the icon-vis repo with pspylot on using grib files.</p> <p>MS uses ICON-ART simulations. Wants to estimate methane emissions over Europe.</p> <p>KI is working on coupling FLEXPART. Compared point sourced emission between ICON-ART and FLEXPART. Next step: couple complete landscape.</p> <p>DO from EMPA is working on porting parts of ICON-ART to GPU. First step is to decide from which ICON version to start the development. It has to fit ART part.</p> <p>RP works in Daniela Domeisen's group at the University of Lausanne. He works on teleconnection. </p> <p>ER joined Daniela's group in November, working in the project heat forecast. He started experiments with dry dynamical cores.</p> <p>NO works with ICON-NWP using 2-moment scheme. Interested in low-stratus clouds.</p> <p>SR presents aqua-planet simulations by Sebastian Schemm . Next step: add seasonal cycle and topography. They also work on improving ecRad with machine learning. OF says that they have a bit of experience to implement machine learning into Fortran code and could maybe help. WS asks if aqua-planet connected with the EXCLAIM use case. SR is not sure because he is not completely involved.</p> <p>SF works with ICON-HAM. Upgraded ICON base version to 2.6.4 release. Elsa Germann is checking GPU port after upgrade. It runs but doesn't validate. They have now ICON-HAM version, which is tuned.</p> <p>BC simulates long-term and global changes. Teamed up with ER and Priyanka Yadav. Happy for more people to team up with. WS asks if the use ECHAM physics? BC answers yes but nothing against ICON-NWP physics. WS thinks that for now ECHAM physics is the right choice.</p> <p>DF is using coarse resolution. Teamed up with ER, BC and Priyanka Yadav.</p> <p>WS is talking about the use cases of EXCLAIM. The software development is trying to pull components out of ICON models to remove deprecated code.  They want to clean up the release candidate 2.6.5. Several components will probably disappear, e.g., old radiation scheme (PSrad).  Asks if there are users of LES and if someone would have a problem if it would be removed in the release candidate. The graupel microphysics will be turned into stand-alone component with GT4py tool to run components on GPU or CPU. MeteoSwiss will have access to new cluster on ALPS. The cray compiler is going to support OpenACC again. SF comments that NO will use LES in her PhD. Asks where to find ICON consolidated. WS says that GitLab is repository for all ICON code and changes should be documented in wiki. You should have access to ICON consolidated AW asks if the cray compiler is a second besides NVIDIA. WS answers yes but that they don't have benchmarks. NVIDIA can do better and should be preferred.</p> <p>CO is working on DSLs. Working on dynamic core of ICON.</p> <p>AS wants to introduce the Inorganic Environmental Geochemistry group to ICON. They just started using ICON-ART and will run model on Euler cluster.</p> <p>Presentation of psyplot by Philipp Sommer </p>"},{"location":"events/icon_meetings/2022-1/#questions","title":"Questions","text":"<p>WS asks if PS has ever tried to plot ICON restart files. PS answers that the grid information is needed, which can also be in a separate file. It is straightforward to merge multiple files. So if the cf-conventions are fulfilled, there should be no problem. You can always send PS a file and he can help you.</p> <p>WS asks at which resolution psyplot breaks down. PS answers that psyplot is still using matplotlib, which is not very well suited for high resolution. For about 4 Mio grid points it takes about 1 minute. Hope would be to use something different, maybe PyVista or VDK. WS asks what the maximum is, which psyplot can use. PS answers that it should be R3B7, which is roughly 3 Mio grid cells.</p> <p>CO asks if PS has discussed with VDK. PS answers that the first goal of psyplot is just to visualise. He doesn't think they have currently resources for that but maybe in the future.</p> <p>DF comments that ParaView can handle data on big scale, so why not trying to get VDK with  ParaView. PS answers that for  ParaView the idea is different. It is a visualization focus framework and has a very general scope, not primarily made for visualizing model output. DF asks if it is too complicated to use. PS answers yes and the scope is different. Most scientist working with model output are using command line tools.</p> <p>VC struggled to do a plot with normal wind components and asks if there is maybe a problem if the variables are defined on the edge or node. PS answers that this shouldn't matter and offers VC to send him the netcdf so he can check.</p>"},{"location":"events/icon_meetings/2022-2/","title":"ICON Meeting 2022/2","text":"<p>24 May 2022, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2022-2/#participants","title":"Participants","text":"<p>Michael J\u00e4hn (MJ), Jonas Jucker (JJ), Annika Lauber (AL), Michael Steiner (MS), Lionel Constantin (LC), Guillaume Bertoli (GB), Stefan R\u00fcdis\u00fchli (SR), Stephanie Westerhuis (SW), Brigitta Goger (BG), Nadja Omanovic (NO), Jacopo Canton (JC), Tamara Bandikova (TB), Christina Schnadt Poberaj (CSP), William Sawyer (WS), Andrea Stenke (AS), Sylvaine Ferrachat (SF), Kseniya Ivanova (KI), Anurag Dipankar (AD), Stephan Henne (SH)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2022-2/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2022-2/#c2sm-michael-jahn-jonas-jucker-annika-lauber-tamara-bandikova","title":"C2SM (Michael J\u00e4hn, Jonas Jucker, Annika Lauber, Tamara Bandikova)","text":"<p>MJ welcomes all participants to the meeting and presents C2SM ICON news  together with JJ, AL and TB.</p>"},{"location":"events/icon_meetings/2022-2/#short-presentations-from-participants","title":"Short presentations from participants","text":"<p>MS from EMPA implemented online emission, online flux ensemble, etc. in ART. A view things have been merged. Has memory allocation problems with boundary conditions that are time-dependent. Occurs for more than 83 time-dependent boundary fields.</p> <p>LC from EMPA is working on integrating ICON-ART into a framework called CIF (Community Inversion Framework).</p> <p>SR shows slides about work in Sebastian Schemm\u2019s group .  A paper on an aquaplanet study was recently published .  A second accepted paper deals with an aquaplanet with high-resolution nests over NH SST front. They have an ongoing project using ML (Machine Learning) on ecRad. The group will ask C2SM/EXCLAIM community for help in coupling python ML tools to Fortran.</p> <p>GB works on ML emulation on ecRad.</p> <p>SW informs that MeteoSwiss is currently facing severe problems with ICON not running fast on new machines (seven times slower). MeteoSwiss wants to run ICON operationally next year. SW shows slides about her current work on transparent stratus clouds in ICON .  Observations - model comparison shows that ICON is not predicting thick stratus clouds.  The predicted clouds mainly cover 60-80% but never 100% as in reality. This has a negative impact on correct radiation prediction with a bias of 100 W/m2. SW tries to motivate Martin to work on this. SW is in contact with Israeli colleagues who have introduced a nonphysical ad-hoc parameter to improve cloud cover in the Mediterranean to deal with this issue. CS asks how often this phenomenon occurs. SW says that is a reoccurring problem but so far the comparison was done for only one case but she is working on a second case.</p> <p>BG is a new postdoc in EXCLAIM and attends her first ICON user meeting. Her focus will be ICONs turbulence parameterization. SH asks if BG is aware that EMPA, MeteoSwiss, University of Frankfurt currently have a project on that. BG says that she is aware of that.</p> <p>NO is working with the 2-moment microphysics scheme. There are new updates like the saturation adjustment before calling the microphysics. NO is doing the cloud simulations for the CLOUDLAB project.</p> <p>JC is working for EXCLAIM now. He is working on parameterizations with grid sizes below 1km. </p> <p>WS is waiting for ICON-2.6.5., which is the basis for EXCLAIM and should be released within the next few weeks. There is currently a huge clean-up of the ECHAM physics going on, which will be replaced by the AES physics.  There is a mass of delays in porting ICON to the LUMI supercomputer. Only the cray compiler is working with AMD-GPUs but is facing issues.</p> <p>AS is working with ICON-ART on Euler to simulate trace elements. Mainly technical work is going on right now.</p> <p>SF is doing ICON-HAM global simulations. Elsa Germann solved most bugs in the GPU port of HAM.</p> <p>SH from EMPA is working on the ICON-ART porting to GPU. Next to that SH is working with the FLEXPART version for ICON. They convert ICON output to COSMO grid. First tests comparing the output give reasonable results. Nothing concrete.</p> <p>KI from EMPA is working on decoupling FLEXPART in ICON.</p>"},{"location":"events/icon_meetings/2022-3/","title":"ICON Meeting 2022/3","text":"<p>1 September 2022, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2022-3/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Annika Lauber (AL), Christina Schnadt Poberaj (CSP),  Nikolai Ponomarev (NP), Athena Nghiem (AN), Boriana Chtirkova (BC), Andrea Stenke (AS), Sebastian Schemm (SS), Stefan R\u00fcdis\u00fchli (SR),  Brigitta Goger (BG)</p>"},{"location":"events/icon_meetings/2022-3/#participants-zoom","title":"Participants (Zoom)","text":"<p>Tamara Bandikova (TB), Emmanuele Russo (ER), Marco Arpagaus (MA), Michael Steiner (MS), Lionel Constantin (LC), Samuel Kellerhals (SK), Arash Hamzehloo (AH), Kseniya Ivanova (KI), Stephan Henne (SH), Guillhaume Bertoli (GB)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2022-3/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2022-3/#c2sm-michael-jahn-annika-lauber-tamara-bandikova","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Tamara Bandikova)","text":"<p>MJ welcomes all participants to the meeting and presents C2SM ICON news  together with AL.</p> <p>AL talks about the ICON task about the stable RBF interpolation. SS asks where the RBF interpolation is used in the code. AL answers that the RBF interpolation is used for the interpolation from a grid point to a point not on the grid. KI asks what is meant with unstable. AL explains that unstable means the calculation has different results for every compiler and machine. KI wonders if this this part of ICON tools. AL clarifies that it is part of the actual ICON code and is being calculated during every run.</p>"},{"location":"events/icon_meetings/2022-3/#brigitta-goger","title":"Brigitta Goger","text":"<p>BG tries to understand the turbulence representation better, especially the surface layer and turbulence scheme.</p>"},{"location":"events/icon_meetings/2022-3/#boriana-chtirkova","title":"Boriana Chtirkova","text":"<p>BC is working with changes in the surface radiation.</p>"},{"location":"events/icon_meetings/2022-3/#athena-nghiem","title":"Athena Nghiem","text":"<p>AN starts working with ICON-ART.</p>"},{"location":"events/icon_meetings/2022-3/#andrea-stenke","title":"Andrea Stenke","text":"<p>AS is also working on the ICON-ART development. AS asks if anybody knows what the status of the ART license? CSP answers that she is in contact with Corinna Hose. The lawyers are currently looking into it. AS says that she is about to sign an ART license with Eawag.</p>"},{"location":"events/icon_meetings/2022-3/#nikolai-ponomarev","title":"Nikolai Ponomarev","text":"<p>NB will be working in Dominik Brunners group in Empa. He uses ICON-ART for simulation of Z\u00fcrich with a 500m resolution. For now, NB is trying to get familiar with ICON and learning Python.</p>"},{"location":"events/icon_meetings/2022-3/#michael-steiner","title":"Michael Steiner","text":"<p>MS uses ICON-ART in limited area mode. He implemented an online approach to bring emissions to ICON.</p>"},{"location":"events/icon_meetings/2022-3/#arash-hamzehloo","title":"Arash Hamzehloo","text":"<p>AH started working for Empa in January and is porting ART to GPU. He is currently running test cases to make sure he gets same results as on CPU. This is part of the HAMAM project.</p>"},{"location":"events/icon_meetings/2022-3/#kseniya-ivanov","title":"Kseniya Ivanov","text":"<p>KI from Empa is coupling FLEXPART to ICON and also runs ICON-ART simulations.</p>"},{"location":"events/icon_meetings/2022-3/#stephan-henne","title":"Stephan Henne","text":"<p>SH from Empa is interested in turbulence in ICON. He is part of a project with MCH and the University of Frankfurt.</p>"},{"location":"events/icon_meetings/2022-3/#guillhaume-bertoli","title":"Guillhaume Bertoli","text":"<p>GB shows preliminary results for using machine learning to predict radiation with ICON . SS says that they work in collaboration with the SDSC. The offline performance is close to the performance to what is possible. Currently machine learning based radiation schemes are being linked to ICON. GC shows plot about memory vs. performance for the neural network and a random forest. The precision of the random forest is close to the precision of the neural network. For reaching such close results, the complexity of the random forest needs to be increased, which makes it too large to be used. SS says that the important lesson learnt is that the neural network consumes much less memory given a certain error tolerance. The memory aspect is also very import for EXCLAIM.</p> <p>CSP asks if they intend to use it in later simulations and if there is any connection with EXCLAIM. SS says that it is part of the effort to accelerate the code. They want to use an aqua planet to see if it generalizes and to see if the original code and the neural network both predict radiation also in summer.</p> <p>MA asks what the general motivation is. SS says that there are two motivations, one is the performance aspect and the other is that ecRAD is expensive. They could reduce the number of calls with ecRAD and speed up and improve it at the same time.</p> <p>MA asks if it improves because of a higher resolution in time and space.  SS says that the comparison of ecRAD vs. satellite data shows a larger error, than the comparison of machine learning against ecRAD. </p> <p>AH asks how big the training algorithm is, if it is unsupervised and how general it is. SS says that training the random forest doesn\u2019t take longer than a day and it takes several days to train the neural network on SSDs.</p> <p>AH asks how they generalize the neural network, if they need to retrain from scratch or if they can train an already trained one. SS says that they are testing the generalization abilities. The quality of the results is relatively low for completely unseen data. Thus, it is not useful for climate simulation yet but for weather prediction. Retraining the neural network is not so expensive to hinder them from doing it, but the generalization is the big question mark.</p> <p>AH asks if they are using 3D data for the neural network. SS says that they cannot afford to use 3D for long simulations, but one gains something by taking the neighbors into account by using convolutions.</p> <p>BG asks if there will by a hybrid format for ICON or if it is planned to be used as a full scaled replacement for the ecRAD scheme. SS wants to use a hybrid version and not get rid of ecRAD in the sense of keeping the physics but accelerating it as much as possible. They will not replace the 3D part, which is the most expensive one.</p>"},{"location":"events/icon_meetings/2022-3/#stefan-rudisuhli","title":"Stefan R\u00fcdis\u00fchli","text":"<p>SR is looking into time step effects of ICON vs. COSMO  (same PDF as before). For testing, he uses an idealized convective system. He shows plots, which show time step sensitivity, especially for short time steps. It is still ongoing work. SS says that COSMO is more sensitive to different time steps. There is a paper from Axel Seifert called One Step at a Time . </p>"},{"location":"events/icon_meetings/2022-3/#sebastian-schemm","title":"Sebastian Schemm","text":"<p>SS is developing an aqua planet with a summer and winter hemisphere  (still same PDF). The summer is imposed by radiation and SSTs. This produces a double ITCZ cell, which is seen as a bug in the model community. They figured out how to control the occurrence of a double ITCZ by changing SSTs. ER asks why they are not imposing seasonality. SS answers that the jet stream does something very unreasonable when doing that. CSP asks if shifting SSTs does not relate to different seasons. SS says that it would be late summer vs. early summer. Changing the radiation has almost no effect on double ITCZ.</p> <p>SS says that for ICON v2.6.4 the sensitivity to compiler optimization is still very large and wonders if this may be caused by the unstable RBF interpolation.</p>"},{"location":"events/icon_meetings/2022-3/#emmanuele-russo","title":"Emmanuele Russo","text":"<p>ERs goal is to better understand heatwaves in Europe to enhance their seasonal to sub-seasonal predictability . Therefore, ER is looking at three things: 1) The dry dynamical core, 2) The aqua-planet configuration, 3) The amip configuration. ER brings the aqua planet closer to a land planet by modifying the heat capacity of mixed layer and moisture availability. There are problems with a mixed layer ocean in ICON. A bug was found in ICON v2.6.4 related to the initialization of heat fluxes. They fixed the bug and introduced new parameters (dmixsea, rmois) but the model is still very unstable. The model crashes as there are no horizontal ocean heat transport and no sea ice. They tested the same with a minimum threshold of 273.15 K and get a stable model with that.</p>"},{"location":"events/icon_meetings/2022-3/#samuel-kellerhals","title":"Samuel Kellerhals","text":"<p>SK joined EXCLAIM in May and talks about the current state of the gt4py implementation. It allows to define high level stencil kernels in ICON. They are mainly working on porting the dry dynamical core. There are seven to ten stencils left out of 100. They hope to have it ready in the coming month.</p>"},{"location":"events/icon_meetings/2022-3/#marco-arpagaus","title":"Marco Arpagaus","text":"<p>MA talks about the last upgrade which promised to be much faster but is not. They can\u2019t even compile with the new upgrade on ALPS. ICON still not as fast as COSMO and substantial slower on GPU. ICON simulations take twice as long as for COSMO.</p>"},{"location":"events/icon_meetings/2022-4/","title":"ICON Meeting 2022/4","text":"<p>12 December 2022, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2022-4/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Annika Lauber (AL), Jonas Jucker (JJ), Emmanuele Russo  (ER), Nadja Omanovic (NO), Brigitta Goger (BG), Guillaume Bertoli (GB)</p>"},{"location":"events/icon_meetings/2022-4/#participants-zoom","title":"Participants (Zoom)","text":"<p>Arash Hamzehloo (AH), Stephanie Westerhuis (SW), Joel Thanwerdas (JT), Kseniya Ivanova (KI),  William Sawyer (WS), Marco Arpagaus (MA), Nicoletta Farabullini (NF), Doris Folini (DF),  Tamara Bandikova (TB), Dominik Brunner (DB), Stefan R\u00fcdis\u00fchli (SR), Nikolai Ponomarev (NP),  Samuel Kellerhals (SK), Jacopo Canton (JC), Jean-Marie Bettems (JB)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2022-4/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2022-4/#c2sm-michael-jahn-annika-lauber-jonas-jucker","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Jonas Jucker)","text":"<p>MJ welcomes all participants to the meeting and presents C2SM ICON news .</p> <p>MA asks about the runtime increase of the two-moment microphysics scheme on GPU. AL says that it should be about the same as on CPU as there is now speed-up on GPU. MA says that this should be 30% in that case.</p> <p>JJ reports on the ICON-C meeting in Bonn.</p>"},{"location":"events/icon_meetings/2022-4/#guillaume-bertoli","title":"Guillaume Bertoli","text":"<p>GB works on Machine Learning (ML) to predict atmospheric radiation. The first version with a ML emulator exists now but there are no results so far. A master student started a thesis on ICON timestep sensitivity.</p>"},{"location":"events/icon_meetings/2022-4/#brigitta-goger","title":"Brigitta Goger","text":"<p>BG shows a plot about her work  where she is testing ICON over complex terrain using various resolutions.</p>"},{"location":"events/icon_meetings/2022-4/#nadja-omanovic","title":"Nadja Omanovic","text":"<p>NO works with the two-moment microphysics scheme. She focuses on low stratus clouds, which will be seeded as part of the CloudLab campaign.</p>"},{"location":"events/icon_meetings/2022-4/#emmanuele-russo","title":"Emmanuele Russo","text":"<p>ER is trying to port the full mixed-layer model and plays around with low level damping of winds.</p>"},{"location":"events/icon_meetings/2022-4/#dominik-brunner","title":"Dominik Brunner","text":"<p>DB talks about what is being done at Empa. They are mainly interested in tracer simulations and have seven people using ICON-ART. They are doing simulations of CO2 over Switzerland, specifically Zurich. They are testing if there is any systematic tracer release bias, which is difficult to test. They are also working on the port of ART to GPUs. KI is coupling FLEXPART to ICON. A PhD student is coupling ICON with the Ensemble Kalman filter. Sven Werchner from KIT will probably become the gate keeper of ART and helps with porting ART to GPU.</p>"},{"location":"events/icon_meetings/2022-4/#marco-arpagaus","title":"Marco Arpagaus","text":"<p>!MeteoSwiss is still struggling with the new machine Balfrin. They are late by half a year for going operational. They will start going pre-operational next year and full in 2024.</p>"},{"location":"events/icon_meetings/2022-4/#stephanie-westerhuis","title":"Stephanie Westerhuis","text":"<p>SW shares slide about orography smoothing in ICON . In COSMO the orography is prepared with EXTPAR, in ICON most is prepared in EXTPAR but the smoothing happens in ICON, which leads to inconsistency, e.g., HORIZON is not matching. SW looked at a real case where ICON highly overestimated the precipitation. They are still figuring out if there will be a change for the operational system regarding the filtering.</p> <p>DB asks if ICON needs the same degree of smoothing as COSMO. SW says that ICON is able to handle much steeper slopes. However, very steep slopes might lead to overestimation of precipitation because of really high vertical wind speeds. BG says that she can run ICON stable with 40 degree slopes but with a very high resolution a damping factor is also needed.</p>"},{"location":"events/icon_meetings/2022-4/#william-sawyer","title":"William Sawyer","text":"<p>WS shares slides about ICON engineering efforts . They should have a version of ICON which runs on !LUMI before Christmas. For EXCLAIM there has been a ICON-C agreement to split ICON into \"granules.\"</p> <p>MA says that Switzerland/CSCS has a share of LUMI. It is one of the EuroHPC platforms that will probably be used for the DefinEClimate Twin. Why is the ICON community interested? WS says that NWP will theoretically compile on LUMI before Christmas but doesn\u2019t know if anybody will run it. There is some Swiss financial interest in LUMI. MA says that they are still looking for resources for TeamX and asks if it is possible to run NWP on LUMI next summer. WS answers that it\u2019s not only about computing resources but also human resources.</p>"},{"location":"events/icon_meetings/2022-4/#doris-folini","title":"Doris Folini","text":"<p>DF says that Boriana Chtirkova is examining the role of SSTs.</p>"},{"location":"events/icon_meetings/2022-4/#samuel-kellerhals","title":"Samuel Kellerhals","text":"<p>SK (EXCLAIM) has been working on an implementation with MeteoSwiss to get stencils to run. </p>"},{"location":"events/icon_meetings/2022-4/#nicoletta-farabullini","title":"Nicoletta Farabullini","text":"<p>There are a lot more functionalities of GT4Py now. WS adds that Magdalena Luz is working on a stand-alone granule on the Python side.</p>"},{"location":"events/icon_meetings/2022-4/#jacopo-canton","title":"Jacopo Canton","text":"<p>JC is not currently working with ICON but has plans to port URB to ICON.</p> <p>JJ says that since two years he heard about that there will be new external parameters but hasn\u2019t seen any piece of code still. JJ asks if JC knows more about it. JC answers that TERRA-URB can work with global parameters but it\u2019s a bit all over the place. He has scripts that do work.</p> <p>DB asks if ICON runs with TERRA-URB but if the problem is the preprocessing or if there are other issues. JC answers that TERRA-URB is not fully implemented in ICON. JB says that Jan-Peter Schulz from DWD is doing this work.  JC says that there is not so much left to be implemented according to Jan-Peter.</p> <p>BG comments that for landuse datasets, the CORINE dataset is very useful. DB says that the CORINE dataset cannot be used in ICON but it would be very interesting.  BG says EXTPAR can process the CORINE dataset. She didn\u2019t get any errors but hasn\u2019t checked if it works.</p>"},{"location":"events/icon_meetings/2022-4/#general","title":"General","text":"<p>WS asks if there are any news about the ICON seamless effort. MA cannot give any more stable information. JB will send mail. There is information on the COSMO website .</p> <p>DB sends a reminder about the COSMO/ICON user workshop on 2 February. Please send him your registration and indicate if you want to present a poster.</p>"},{"location":"events/icon_meetings/2023-1/","title":"ICON Meeting 2023/1","text":"<p>16 March 2023, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2023-1/#participants-on-site","title":"Participants (on-site)","text":"<p>Jonas Jucker (JJ), Annika Lauber (AL), Tamara Bandikowa (TB), Stefan R\u00fcdis\u00fchli (SR), Jan Zibell (JZ), Guillaume Bertoli (GB), Athena Nghiem (AN), Andrea Stenke (AS), Doris Folini (DF), Jacobo Canton (JC), Boriana Chtirkova (BC)</p>"},{"location":"events/icon_meetings/2023-1/#participants-zoom","title":"Participants (Zoom)","text":"<p>Michael J\u00e4hn (MJ), Tina Schnadt (TS), William Sawyer (WS), Joel Thanwerdas (JT), Dominik Brunner (DB), Nikolai Ponomarev (NP) , Arash Hamzehloo (AH), Lionel Constantin (LC)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2023-1/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2023-1/#c2sm-michael-jahn-annika-lauber-jonas-jucker","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Jonas Jucker)","text":"<p>MJ welcomes all the participants to the meeting and presents the news from C2SM about ICON .</p> <p>JJ reports that the ECHAM physics support is being dropped and replaced by NWP physics. DB notes that HAM is still coupled to ECHAM. Confirmed by JJ.</p> <p>WS asks if anyone knows the status of the ICON-Seamless project. The answer is no.</p> <p>JJ reports on the transition to Spack v0.18.1. WS asks what happens if you source <code>/project/g110/spack/user/daint/spack/share/spack/setup_env.sh</code> and there is no global instance anymore. JJ: As long as there is no change on Daint-side the old spack-instance stays functional. After the next upgrade C2SM will remove this instance.</p>"},{"location":"events/icon_meetings/2023-1/#boriana-chtirkova","title":"Boriana Chtirkova","text":"<p>BC investigates how changes in the SST affect radiation variables. She plans to complete her PhD in September.</p>"},{"location":"events/icon_meetings/2023-1/#jacobo-canton","title":"Jacobo Canton","text":"<p>JC has currently returned to COSMO but plans to work with ICON again.</p>"},{"location":"events/icon_meetings/2023-1/#doris-folini","title":"Doris Folini","text":"<p>DF helps BC with her PhD project. They use ICON v2.6.4 because it\u2019s closer to CMIP6, which is being used in BC\u2019s work.</p> <p>WS asks if it is possible to feed back their work into ICON v2.6.6. DS doesn\u2019t know if this is possible. They are currently focused on BC finishing her PhD. DS suggests discussing offline.</p>"},{"location":"events/icon_meetings/2023-1/#andrea-stenke","title":"Andrea Stenke","text":"<p>AS plans to use ICON-ART for simulating trace elements such as selenium.</p>"},{"location":"events/icon_meetings/2023-1/#athena-nghiem","title":"Athena Nghiem","text":"<p>AN is working on implementing the cycling of the trace element arsenic (As) into ICON-ART and specifically now, she is currently working on implementing the atmospheric As chemistry into ART.</p>"},{"location":"events/icon_meetings/2023-1/#guillaume-bertoli","title":"Guillaume Bertoli","text":"<p>GB is working with a ML based radiation solver and is currently working on a paper.</p>"},{"location":"events/icon_meetings/2023-1/#jan-zibell","title":"Jan Zibell","text":"<p>JZ is starting to use ICON for simulating the aquaplanet with v2.6.5. He looks into the sensitivity and variability of storm tracks.</p>"},{"location":"events/icon_meetings/2023-1/#stefan-rudisuhli","title":"Stefan R\u00fcdis\u00fchli","text":"<p>SR is supervising master\u2019s thesis on time step effects.</p>"},{"location":"events/icon_meetings/2023-1/#william-sawyer","title":"William Sawyer","text":"<p>WS has been working on the ICON development for a long time. He supports the port of the dycore to GPU and is happy to see that it\u2019s bascially finished. He also works for EXCLAIM, where his main task is the modularization (or granularization) of ICON, i.e. adapting the interfaces in a way that you can pull out the Fortran version and plug it into the Python version. They are working on different schemes, like the diffusion, advection, dycore and microphysics schemes.</p> <p>CSCS will transform to new CI system. Everything will have to be compiled and run in a container on the new machine. So they are working on getting ICON-EXCLAIM into a container.</p> <p>DF asks if the hope is to have a stand-alone Python version of some aspects of ICON. WS confirms but adds that he cannot promise that the community will adopt it.</p> <p>JJ asks if it is possible to access the compute nodes from inside the container when running the CI system. WS replies that the compute nodes have to be selected before running. JJ asks if this means that compute nodes needed for the run are wasted on the build. WS confirms and offers to talk more about this.</p>"},{"location":"events/icon_meetings/2023-1/#dominik-brunner-et-al","title":"Dominik Brunner et al.","text":"<p>DB shoes overview slide. They are working with ICON-ART and are interested in atmospheric composition related to the transport of tracers.</p> <p>AH is working on porting ART to GPU. He is working on the OEM (online emission module). They are close to a 3x benchmark speedup.</p> <p>DB reports on master student Michael Steiner\u2019s work on ICON-ART. They are perturbing a set of prior anthropogenic emission fluxes and optimize them with the Ensemble Kalman Filter.</p> <p>JT works on designing a tracer release experiment at global scale to try to benchmark chemistry-transport models like ICON-ART. DB is also reports on their work with VPRM where they simulate CO2. They look at the exchange of CO2 with the biosphere using a respiration model. They also simulate photosynthesis and are currently looking for a master student.</p> <p>WS asks what other contributions to HAMAM are planned. DB reports that they are working with KIT as a project partner. The first task is to port the chemistry part to GPU.</p> <p>WS asks if Sven Werchner plans to present the plan for next year. DB replied\u00b4s that he should contact Sven.</p> <p>MJ asks when the GPU port of the VPRM model is planned. AH answers that this will be part of the GPU port for OEM. </p>"},{"location":"events/icon_meetings/2023-2/","title":"ICON Meeting 2023/2","text":"<p>12 June 2023, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2023-2/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Jonas Jucker (JJ), Matthieu Leclair (ML), Annika Lauber (AL), Tina Schnadt (TS), Sebastian Schemm (SS), Nadja Omanovic (NO), Anurak Dipankar (AD), Stefan R\u00fcdis\u00fchli (SR), Jan Zibell (JZ), Guillaume Bertoli (GB), Doris Folini (DF), Jacobo Canton (JC), Boriana Chtirkova (BC)</p>"},{"location":"events/icon_meetings/2023-2/#participants-zoom","title":"Participants (Zoom)","text":"<p>Mikael Stellio (MS), William Sawyer (WS), Nikolai Ponomarev (NP), Marco Arpagaus (MA), Nicoletta Farabulllini (NF)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2023-2/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2023-2/#c2sm-michael-jahn-annika-lauber-jonas-jucker-matthieu-leclair","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Jonas Jucker, Matthieu Leclair)","text":"<p>MJ welcomes all the participants to the meeting and presents the news from C2SM about ICON .</p>"},{"location":"events/icon_meetings/2023-2/#discussion-about-work-on-seaice-port-for-icon-clm","title":"Discussion about work on seaice port for ICON-CLM","text":"<p>AD asks how many static modes there are.</p> <p>MJ responds that there are 6 static modes.</p> <p>AD wonders if it would be possible to achieve the desired functionality with just one mode.</p> <p>MJ agrees to investigate that possibility.</p>"},{"location":"events/icon_meetings/2023-2/#discussion-about-ongoing-work-on-the-two-moment-microphysics-scheme","title":"Discussion about ongoing work on the two-moment microphysics scheme","text":"<p>MA asks how the ICON-HAM version of the two-moment microphysics scheme is different.</p> <p>NO explains that the ICON-HAM version does not include graupel or hail.</p> <p>MA inquires about when the split occurred.</p> <p>NO clarifies that the split happened from the beginning, with Ulrike Lohmann and Axel Seifert having their own versions.</p> <p>WS asks who is planning to use the two-moment microphysics scheme.</p> <p>AL answers that currently the Atmospheric Physics group is using it but that there are more people interested.</p> <p>MA expresses the intention to use the two-moment microphysics scheme as soon as it becomes fast enough. MA says that the Lohmann scheme lacks the most important feature, \"hail,\" for the hailcast, which is why they need the version of Seifert.</p> <p>SS mentions that another important user used to be the Atmospheric Dynamic group. He adds that the scheme is going to be the default option if it is fast enough.</p> <p>WS brings up the topic of the Hackathon and asks if the restructuring is planned to be done during the Hackathon as that looks like a lot of work.</p> <p>AL explains that C2SM applied for the CSCS Hackathon to work on the two-moment microphysics scheme and answers that the restructuring is one option they would like to investigate but there is also the option of using the explicit scheme or automatic inlining. They would like to investigate what is feasible during the Hackathon.</p> <p>AD mentions that Cui Ruoyi is working on restructuring code and could be asked for advice.</p>"},{"location":"events/icon_meetings/2023-2/#sebastian-schemm","title":"Sebastian Schemm","text":"<p>SS expresses gratitude for the support in porting of the aqua planet. He mentions that the original version was running on Daint but not on Euler, and that one compiler was more tolerant than the other. SS emphasizes that running the ensemble is worthwhile.</p> <p>SS says that Aqua planet includes summer and winter with a new SST distribution, allowing for single and double ITCZ (Inter-Tropical Convergence Zone). They are investigating when the double ITCZ disappears.</p>"},{"location":"events/icon_meetings/2023-2/#nadja-omanovic","title":"Nadja Omanovic","text":"<p>NO uses the two-moment microphysics scheme in LES (Large Eddy Simluation) mode at a 130m resolution, specifically over the Swiss plateau as part of the CLOUDLAB campaign. The goal is to mimic the experiment and improve precipitation forecasts based on the improved understanding.</p>"},{"location":"events/icon_meetings/2023-2/#anurak-dipankar","title":"Anurak Dipankar","text":"<p>AD acknowledges introducing a bug in LES but confirms that it has been resolved.</p>"},{"location":"events/icon_meetings/2023-2/#boriana-chtirkova","title":"Boriana Chtirkova","text":"<p>BC is currently engaged global climate modeling, using CMIP6 and SST (Sea Surface Temperature).</p>"},{"location":"events/icon_meetings/2023-2/#guillaume-bertoli","title":"Guillaume Bertoli","text":"<p>GB mentions working their current work on machine learning and notes that it is currently extremely slow. They are in the final stages of wrapping up everything for a paper about the offline version.</p>"},{"location":"events/icon_meetings/2023-2/#stefan-rudisuhli","title":"Stefan R\u00fcdis\u00fchli","text":"<p>SR informs about their ongoing master thesis work, which focuses on studying the time-step effect on idealized cases.</p>"},{"location":"events/icon_meetings/2023-2/#jan-zibell","title":"Jan Zibell","text":"<p>JZ presents slides on the aqua planet ensemble , with the objective of studying storm tracks in response to global warming. They showcase the mean surface pressure over a 10-year period and highlight the distinct responses from the various ensemble members when warming the planet. JZ points out the different asymmetries using GPU and CPU.</p> <p>AD adds that a longer mean reveals a recurring variability, resembling a cycle. They conducted a two-year run to observe this pattern.</p> <p>SS notes that previous aqua planet simulations also exhibited asymmetry. The assumption of symmetry was made to provide better statistics. SS suggests that the asymmetry could be caused by the ICON grid.</p> <p>AD dismisses the grid as the cause.</p> <p>ML asks about the symmetry of perturbations.</p> <p>AD explains that as long as turbulence is not triggered, the perturbations remain symmetric. However, once turbulence is triggered, they become asymmetric.</p> <p>DF inquires if the CPU version also exhibits the same flip.</p> <p>AD states that they are currently conducting tests to investigate that.</p> <p>SS mentions that low-resolution aqua planets appeared symmetric, but small perturbations seemed to shift their symmetry.</p> <p>MA suggests that obtaining an asymmetric result could be possible if they always start on the same date.</p> <p>JZ explains that the start date is set to equinox, which positions is right above the equator.</p>"},{"location":"events/icon_meetings/2023-2/#mikael-stellio","title":"Mikael Stellio","text":"<p>MS provides an update on ICON-22, where he specifically focuses on the optimization of the ICON-HAM port for GPUs. MS presents plots showcasing the results of a 6-hour simulation . The main effort took place in the wet deposition part. The improvements made there have propagated to other schemes. Currently, MS is working on the two-moment microphysics scheme (Lohmann), which involves many calls of very small subroutines that are not efficient on GPUs.</p>"},{"location":"events/icon_meetings/2023-2/#marco-arpagaus","title":"Marco Arpagaus","text":"<p>MA gives an update on ICON-22, mentioning the ongoing challenges they face. The machine they are working with has been causing difficulties, particularly with the restoration process, which leads to delays. As a result, the start of the pre-operational phase has been shifted to the beginning of October.</p> <p>On the physics side, MA notes that they are currently running on Balfrin and admits to have being less careful with initialization. They discovered that the temperature of the soil was taken over from ICON-EU, resulting in heating in the lower soil. The orographies did not match, leading to elevated terrain that was too high, causing a bias of approximately 1K. But they hope that has been resolved now. MA expresses gratitude to JJ for their assistance in fixing the issue.</p>"},{"location":"events/icon_meetings/2023-2/#william-sawyer","title":"William Sawyer","text":"<p>WS is trying to keep an overview. He starts with the ICON port to LUMI , which is being done by the Max Planck institute, CSC, and others. This endeavor turned into a significant project, and although they have something running, they face challenges as they rely on the Cray compiler, which has significant bugs. On a positive note, progress has been made, and they have a 1.25km test running. WS emphasizes the hope that HPE can fix the compiler bugs soon, preferably before LUMI gets decommissioned. However, there is still a lot of work to be done. To assist with the project, Cray has provided an entire person to help out.</p> <p>MA asks about the client for this implementation.</p> <p>WS responds that the first client is a Swedish team, although the name escaped him. Other users are interested in performing high-resolution runs.</p> <p>MA inquires about the timeline.</p> <p>WS admits that there is a bit of frustration and they had hoped to complete it during the acceptance phase. They acknowledge that relying on the Cray compiler was a big mistake.</p> <p>MA asks if the Swedish team is part of the Climate Twins project.</p> <p>WS clarifies that they are not.</p> <p>WS then discusses the ICON consolidation project, which aims to refactor ICON, as it is currently a mess. The plan is to incrementally refactor it, which is challenging because every change has to pass all the buildbot. Thus it is a lot of work to integrate it.</p> <p>WS mentions that they received the first Grace-Hopper node, which serves as the basis for ALPS. They have been working on benchmarking it to determine the energy usage of certain runs, such as ICON-CPU on Grace and ICON-GPU on Hopper. They are also considering DSL (Domain Specific Language) usage.</p> <p>JJ asks for a date when the machines will be available to test workflows.</p> <p>WS explains that the node they have now will not be accessible, but they will have access to an ALPS subset. They cannot provide an exact date at the moment but hope to have something available for the hackathon. Their best estimate is November or December, but they make no promises.</p> <p>MA questions if the port to Grace-Hopper will be as challenging as the port to LUMI.</p> <p>WS believes it should not be as challenging since they are working with a reliable (NVIDIA) compiler. However, the CPU side may present more difficulties. They promise to provide an update within two weeks.</p>"},{"location":"events/icon_meetings/2023-2/#nicoletta-farabullini","title":"Nicoletta Farabullini","text":"<p>NB mentions their efforts to complete the Python version and expresses hope that they can finish everything during this cycle.</p>"},{"location":"events/icon_meetings/2023-2/#nikolai-ponomarev","title":"Nikolai Ponomarev","text":"<p>NP informs about their work on CO2 simulations in ICON-ART over Zurich. </p>"},{"location":"events/icon_meetings/2023-3/","title":"ICON Meeting 2023/3","text":"<p>26 September 2023, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2023-3/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Jonas Jucker (JJ),  Annika Lauber (AL), Fulden Batibeniz (FB), Clarissa Kroll (ClK), Jacopo Canton (JC), Doris Folini (DF), Emmanuelle Russo (ER), Stefan R\u00fcdis\u00fchli (SR), Guillaume Bertoli (GB), Jan Zibell (JZ), Nadja Omanovic (NO), Andrea Stenke (AS)</p>"},{"location":"events/icon_meetings/2023-3/#participants-zoom","title":"Participants (Zoom)","text":"<p>Matthieu Leclair (ML), Arash Hamzehloo (AH), Corina Keller (CoK), Marco Arpagaus (MA), Brigitta Goger (BG), Katrin Ehlert (KE), Mikael Stellio (MS), Chia Rui Ong (CRO), William Saywer (WS)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2023-3/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2023-3/#c2sm-michael-jahn-annika-lauber-jonas-jucker-matthieu-leclair","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Jonas Jucker, Matthieu Leclair)","text":"<p>MJ welcomes all the participants to the meeting and presents the news from C2SM about ICON .</p>"},{"location":"events/icon_meetings/2023-3/#discussion-about-presented-results-of-the-speed-up-of-the-two-moment-microphysics-scheme-after-eurohack23","title":"Discussion about presented results of the speed-up of the two-moment microphysics scheme after EuroHack23","text":"<p>MA asks about the difference between the implicit and the explicit scheme. AL replies that the implicit scheme depends on the state of the next time step and the current time, while the explicit scheme does not. </p> <p>WS asks if it is a fair to compare the timing of the explicit scheme with the implicit scheme. He reports on behalf of Anurag Dipankar that he is concerned about stability issues with the explicit scheme.</p> <p>JJ replies that these are preliminary results and it's not a completely fair comparison. He suggests doing some academic work, such as a master's thesis, to compare the explicit and implicit schemes.</p>"},{"location":"events/icon_meetings/2023-3/#fulden-batibeniz","title":"Fulden Batibeniz","text":"<p>FB started to work for the University of Bern, which wants to start using ICON. She is doing regional climate modeling and plans to use the ECMWF seasonal forecast for extreme events running with many ensembles.</p>"},{"location":"events/icon_meetings/2023-3/#clarissa-kroll","title":"Clarissa Kroll","text":"<p>ClK is working with R2B10, running it on an uncoupled setting.</p>"},{"location":"events/icon_meetings/2023-3/#jakopo-canton","title":"Jakopo Canton","text":"<p>JC doesn\u2019t use ICON yet, but wants to start with another LES code and run ICON at a very high solution.</p>"},{"location":"events/icon_meetings/2023-3/#doris-folini","title":"Doris Folini","text":"<p>DF reports on behalf of Boriana Chtirkova who is using ICON with ECHAM physics. She is looking at SST patterns and their effect on the internal variability of other variables.</p>"},{"location":"events/icon_meetings/2023-3/#emmanuelle-russo","title":"Emmanuelle Russo","text":"<p>ER uses ICON with ECHAM physics to study the drivers of heat waves.</p>"},{"location":"events/icon_meetings/2023-3/#stefan-rudisuhli","title":"Stefan R\u00fcdis\u00fchli","text":"<p>SR is helping GB solve a 300 K warming bias in their machine learning algorithm. There are inconsistencies in the training data, so they are trying to get better training data.</p>"},{"location":"events/icon_meetings/2023-3/#guillaume-bertoli","title":"Guillaume Bertoli","text":"<p>GB is working on two new tools for machine learning emulation of radiation in ICON. There is a huge temperature error at the top when switching to the neural network. This may be due to the pressure intervals at the surface and top layers, which is 10^4 higher at the top. ICON goes so high in the atmosphere because it needs a damping layer.</p>"},{"location":"events/icon_meetings/2023-3/#jan-zibell","title":"Jan Zibell","text":"<p>JZ is working with an aquaplanet ensemble to study storm tracks and the role of latent heat release.</p>"},{"location":"events/icon_meetings/2023-3/#nadja-omanovic","title":"Nadja Omanovic","text":"<p>NO uses the two-moment microphysics scheme. The goal is to run ICON in LES mode to improve the precipitation forecast.</p> <p>WS asks if it's the same scheme as presented by the C2SM core team. NO confirms that she is using the same scheme.</p>"},{"location":"events/icon_meetings/2023-3/#andrea-stenke","title":"Andrea Stenke","text":"<p>AS uses ICON-ART to simulate the atmospheric cycling of various trace elements. She is working on aersol uptake. Unfortunately, the ART documentation is not very comprehensive. Progress is slow as there are only two people working on it.</p>"},{"location":"events/icon_meetings/2023-3/#corina-keller","title":"Corina Keller","text":"<p>CoK works at Empa. In their project they are using ICON-ART to simulate air quality in Europe and Switzerland. They run full chemistry simulations to capture the formation of ozone or other air pollutants.</p>"},{"location":"events/icon_meetings/2023-3/#arash-hamzehloo","title":"Arash Hamzehloo","text":"<p>AH is working on porting ICON-ART to GPUs. They are almost done with one of the submodules for modeling immersed gases like methane. They want to make the code GPU ready for more complex parts of the code.</p>"},{"location":"events/icon_meetings/2023-3/#katrin-ehlert","title":"Katrin Ehlert","text":"<p>KE has just started as scientific coordinator for numerical weather prediction at MeteoSwiss.</p>"},{"location":"events/icon_meetings/2023-3/#mikael-stellio","title":"Mikael Stellio","text":"<p>MS is working on optimizing ICON-HAM for GPUs. A missing interface with ICON-HAM and rtmp (radiation scheme) is now included and ported. The next step is to test ICON-HAM with different resolutions.</p>"},{"location":"events/icon_meetings/2023-3/#marco-arpagaus","title":"Marco Arpagaus","text":"<p>MA reports on the status of ICON-22, which is replacing the numerical weather prediction engines. They are reaching the milestone to go pre-operational next Monday. They are testing if the system is technically robust on the new machine (not yet convinced). ICON is proving to be a good model so far. It can consistently improve the score for wind, clouds, precipitation, and temperature. However, there are seasons where ICON is consistently worse. There is a systematic bias in 2m temperature and global radiation. So not everything gets better. Overall, MA is confident that ICON will be better than COSMO.</p> <p>ER asks if the biases in temperature and radiation are positive. MA replies that yes, it's too warm, especially in the valley, by 1 K or more. Probably the cooling at night is not efficient enough. The bias is not present on mountain tops. There is a strong bias in the radiation in the morning and evening. Wind is too low on mountain tops and in valleys. MA can send plots on request. ER says that in ICON-CLM there are some biases in temperature and radiation that are counterintuitive and wonders if the problems are related.</p>"},{"location":"events/icon_meetings/2023-3/#william-sawyer","title":"William Sawyer","text":"<p>WS works for CSCS and is supposed to keep track of what is going on in the ICON world. He mentions two other ICON-related works at EuroHack23 (besides the two-moment microphysics scheme). One of the projects is about the ocean, which had a lot of success. In fact, it looks so good that WS may propose to run ICON in a coupled ocean-atmosphere version. The other project was on ICON-ART where they ported parts of the atmospheric chemistry to GPUs. The results were very good, but the code contained Fortran 2008 features that are difficult to port to GPUs. They had a speedup that was 20 times better than the CPU speedup that WS was working on.</p> <p>WS also reports on the EXCLAIM effort on behalf of Anurag Dipankar. Anurag Dipankar tries to run the first version with R2B9, but the model explodes after a few months. The ALPS platform should be fully operational around February next year. First tests with ICON on ALPS look very good performance-wise, but moving to a new machine is always a bit dramatic. Users will be supported by C2SM and CSCS.</p>"},{"location":"events/icon_meetings/2023-3/#brigitta-goger","title":"Brigitta Goger","text":"<p>BG is interested in the mountain boundary layer. She uses high resolution over the Alps down to 500m/250m using both turbulence schemes. BG is testing whether higher resolutions improve the model. It seems that some things are better, but others are not.</p>"},{"location":"events/icon_meetings/2023-3/#chia-rui-ong","title":"Chia Rui Ong","text":"<p>CRO is porting the graupel scheme to GT4Py.</p>"},{"location":"events/icon_meetings/2023-4/","title":"ICON Meeting 2023/4","text":"<p>19 December 2023, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2023-4/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Matthieu Leclair (ML), Annika Lauber (AL), Tina Schnadt (TS), Andrea Stenke (AS), Brigitta Goger (BG), Guillaume Bertolli (GB), Stefan R\u00fcdis\u00fchli (SR), Jan Zibell (JZ), Mikael Stellio (MS)</p>"},{"location":"events/icon_meetings/2023-4/#participants-zoom","title":"Participants (Zoom)","text":"<p>Clarissa Kroll (CK), Emmanuele Russo (ER), Fulden Batibeniz (FB), Doris Folini (DF), Will Sawyer (WS)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2023-4/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2023-4/#c2sm-michael-jahn-annika-lauber-matthieu-leclair","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Matthieu Leclair)","text":"<p>MJ welcomes everyone and shares the latest news about ICON from C2SM .</p>"},{"location":"events/icon_meetings/2023-4/#aerosol-dataset-tests","title":"Aerosol Dataset Tests","text":"<p>ER asks about awareness of the aerosol dataset tests.</p> <p>MJ is unsure of the location of the tests.</p> <p>ER asks about the nesting and setup of their domain.</p> <p>MJ explains that they are using the EURO-CORDEX setup, currently 12 km resolution (aiming for higher). They are using SPICE, which has a default configuration.</p> <p>ER warns of ongoing problems with the default configuration, despite higher radiation it leads to a too low 2m-temperature. Work is ongoing in the CLM community, with progress expected next month.</p> <p>MJ acknowledges time constraints and suggests discussing offline.</p>"},{"location":"events/icon_meetings/2023-4/#progress-on-two-moment-microphysics-scheme-on-gpu","title":"Progress on Two-Moment Microphysics Scheme on GPU","text":"<p>BG asks since when the explicit scheme is on the master.</p> <p>AL answers that it was merged a few weeks ago (information on that can be found in the GitHub issue Speed up two-moment microphysics scheme on GPU ).</p> <p>WS asks why the implicit scheme does not run on Daint.</p> <p>AL replies that this is due to a compiler bug, which will not be fixed before Daint's decommissioning.</p>"},{"location":"events/icon_meetings/2023-4/#probtest-tolerance-tests-development","title":"Probtest (Tolerance Tests) Development","text":"<p>JZ asks if the GPU run is wrong, it means that it is physically wrong.</p> <p>AL answers that if there is a bug in the GPU port it can be physically wrong, but small bugs may not be obviously physically wrong.</p>"},{"location":"events/icon_meetings/2023-4/#andrea-stenke","title":"Andrea Stenke","text":"<p>AS uses ICON-ART to simulate atmospheric trace element cycles. She is currently involved in model development, setting up a global AMIP-type simulation running on Euler.</p> <p>AS asks if there are additional input files available on CSCS.</p> <p>MJ replies that availability depends on the specific requirements.</p> <p>AS plans to request specific resolution data for Euler.</p> <p>WS comments that CSCS has data for test cases covering a wide range of scenarios. In addition, data can be transferred from Levante.</p>"},{"location":"events/icon_meetings/2023-4/#brigitta-goger","title":"Brigitta Goger","text":"<p>BG uses ICON on Daint with a limited area setup at high resolution down to 100 m. The latest version of ICON is stable below 100 m and works down to 65 m.</p>"},{"location":"events/icon_meetings/2023-4/#guillaume-bertolli","title":"Guillaume Bertolli","text":"<p>GB is focusing on the radiation component of the ICON model and trying to emulate it using machine learning (ML). A super-simple model could solve the problems of the upper atmosphere. The GPU version with ML is three times faster than the ECRAD version.</p> <p>TS asks about the frequency of radiation calls, and GB mentions that they occur every 3 minutes.</p>"},{"location":"events/icon_meetings/2023-4/#stefan-rudisuhli","title":"Stefan R\u00fcdis\u00fchli","text":"<p>SR is working on a high resolution setup over the Atlantic. He also reports news from Sebastian Schemm that the aquaplanet simulation paper has been accepted (Link to preprint ).</p>"},{"location":"events/icon_meetings/2023-4/#jan-zibell","title":"Jan Zibell","text":"<p>JZ analyses ICON simulations and plans aquaplanet ensemble runs focusing on storm tracks, using a 1 degree simulation.</p> <p>ML asks about the duration and number of ensembles.</p> <p>JZ clarifies that it is five times in 10 years, and suggests that specific questions about high resolution should be directed to Sebastian Schemm or Anurag Dipankar.</p>"},{"location":"events/icon_meetings/2023-4/#mikael-stellio","title":"Mikael Stellio","text":"<p>MS is working on ICON-HAM with Sylvaine, focusing on GPU ports. They are currently running at 160 km resolution. They have been successfully running at 40 km resolution, but are having problems trying to reduce it further due to problems with the input data. MS is also doing scaling analysis, but it doesn't scale as well as ICON-NWP, mainly due to the increased number of tracers in ICON-HAM. He also helped with pollen simulation issues.</p> <p>MS also reports experimenting with the new version of probtest  and managing to reduce the ensemble members to 5 for their test case. This reduction seems to be stable for now.</p>"},{"location":"events/icon_meetings/2023-4/#will-sawyer","title":"Will Sawyer","text":"<p>WS reports several delays at Alps. Daint is due to be decommissioned in the summer of next year. In January, a pre-Alps system will be launched on a virtual platform resembling several machines. This pre-Alps system will be dedicated to EXCLAIM. They will start compiling the DSL branch in January and try to get benchmarks. Full implementation of Alps is expected around April/May and once operational, Daint will be rapidly decommissioned as it is not feasible to run two systems simultaneously.</p>"},{"location":"events/icon_meetings/2023-4/#doris-folini","title":"Doris Folini","text":"<p>DF, who hasn't used ICON recently, provides an update on behalf of Boriana, who is currently using an older version of ICON. They express the hope of receiving revisions for Boriana's paper before Daint is shut down.</p>"},{"location":"events/icon_meetings/2023-4/#emmanuele-russo","title":"Emmanuele Russo","text":"<p>ES uses the same version as DF with ECHAM physics. Significant developments have taken place, including the introduction of a version of ICON known as ICON-DRY. This version provides the ability to add weights within the model, allowing the adjustment of Sea Surface Temperature (SST) values.</p>"},{"location":"events/icon_meetings/2023-4/#fulden-batibeniz","title":"Fulden Batibeniz","text":"<p>FB runs ICON for seasonal forecasting studies, with a particular focus on drought. However, she notices that there is no moisture available on the layers. She asks if anyone has relevant data.</p> <p>WS replies and mentions the possibility that they might have the required data. Although he does not know the specific name for layer moisture, WS suggests checking Levante as it may contain the relevant information.</p>"},{"location":"events/icon_meetings/2023-4/#clarissa-kroll","title":"Clarissa Kroll","text":"<p>CK is working with ICON-DSL and aims to perform kilometre-scale simulations on Alps. The focus is on investigating the atmospheric response to different SST patches in the Pacific. CK is currently running sensitivity tests with ICON.</p> <p>She comments on FB's request and reports difficulties in accessing soil moisture data, mentioning that access can be obtained through MCH, but the process takes months. It would be much easier if the data were available on Levante.</p> <p>WS asks if there have been any recent technical problems. CK replies that the model is currently running. They plan to run tests on the pre-Alps system in April.</p>"},{"location":"events/icon_meetings/2024-1/","title":"ICON Meeting 2024/1","text":"<p>21 March 2024, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2024-1/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Matthieu Leclair (ML), Annika Lauber (AL), Jonas Jucker (JJ), Fulden Batibeniz (FB), Emmanuele Russo (ER), Athena Nghiem (AN), Andrea Stenke (AS), Sylvaine Ferrachat (SF)</p>"},{"location":"events/icon_meetings/2024-1/#participants-zoom","title":"Participants (Zoom)","text":"<p>Marco Arpagaus (MA), Will Sawyer (WS), Alina Yapparova (AY), Arash Hamzehloo (AH), Mikael Stellio (MS), David Leutwyler (DL), Dominik Brunner (DB), Corina Keller (CK), Michael Steiner (MicS), Stefan R\u00fcdis\u00fchli (SR), Christian Steger (CS), Kutay D\u00f6nmez (KD)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2024-1/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2024-1/#c2sm-michael-jahn-annika-lauber-matthieu-leclair-jonas-jucker","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Matthieu Leclair, Jonas Jucker)","text":"<p>MJ welcomes everyone and shares the latest news about ICON from C2SM .</p> <p>ER asks about the bug related to volcanic transient Kinne aerosols. AL confirms that the bug also affects the CPU.</p>"},{"location":"events/icon_meetings/2024-1/#sylvaine-ferrachat","title":"Sylvaine Ferrachat","text":"<p>SF provides an update on the progress of PhD student Andrina Caratsch, who will study tropical cyclones using ICON-HAM at high resolutions (10 km and below). They have set up the experiment successfully and ran a global 10 km simulation for a few time steps. Currently, they are using ICON version 2.6.4 but aim to transition to the open-source release.</p>"},{"location":"events/icon_meetings/2024-1/#andrea-stenke","title":"Andrea Stenke","text":"<p>AS uses ICON-ART on Euler and now has an account at CSCS, which provides access to the data pool. With MJ's help, she has integrated her script into the Processing Chain tool on Euler. AS discovered that the latest version of ICON (2.6.6) no longer supports AMIP runs.</p>"},{"location":"events/icon_meetings/2024-1/#athena-nghiem","title":"Athena Nghiem","text":"<p>AN is integrating arsenic into ICON-ART and will implement emissions.</p>"},{"location":"events/icon_meetings/2024-1/#emmanuele-russo","title":"Emmanuele Russo","text":"<p>ER is developing an aqua planet with a dry atmosphere. Regarding ICON-CLM, they are refining the setup for the EURO-CORDEX, which should be finalized by the end of April. They experienced problems with shortwave radiation but were able to reduce this bias by adjusting cloud cover. These adjustments require code changes in ICON, which will soon be merged into the master branch. ER anticipates that these changes may necessitate additional GPU ports.</p> <p>DB asks about the project and the meaning of CLM. ER explains that CLM refers to Climate Mode, which is distinct from Climate Land Model despite the shared abbreviation.</p> <p>DB asks if C2SM/EXCLAIM plans to use the same setup. MJ confirms that EXCLAIM will use a similar setup but will run it on GPU.</p> <p>DB asks about the importance of transient aerosols. According to MJ, the transient aerosol dataset is crucial because the climatological aerosols showed biased and outdated, and therefore not representative of current conditions.</p>"},{"location":"events/icon_meetings/2024-1/#fulden-batibeniz","title":"Fulden Batibeniz","text":"<p>FB plans to run the EURO-CORDEX with seasonal forecasts and is waiting for the final version of ICON, which includes transient aerosols.</p> <p>DB inquires about FB's group at the University of Bern (Climate and Environmental Physics) and their plans for transitioning to ICON. FB confirms that she is responsible for transitioning ICON to the group.</p>"},{"location":"events/icon_meetings/2024-1/#will-sawyer","title":"Will Sawyer","text":"<p>WS announces the arrival of the new Alps system and the setup of a virtual cluster as a sandbox. However, technical difficulties such as frequent system downtimes are being faced, which are expected to be resolved once everyone gains access. The pre-Alps system is currently being used to test the ICON application.</p> <p>WS presents slides  indicating that pre-Alps is simulating 85 days per day with a 5 km resolution. Performance between Daint and Santis was compared, with an initial speedup factor of 6, slightly below expectations. However, due to the increased memory capacity of the new GPUs, a fair comparison yields a speedup factor of 9. ICON-DSL demonstrates similar performance, and although there's room for improvement, the functionality is satisfactory.</p> <p>Running the same simulation on CPUs reveals the significant processing power of CPUs on pre-Alps. One Grace has 72 cores. CPUs are currently being used for ocean simulations.</p> <p>DB asks about a recipe for configuring nproma efficiently on Grace-Hopper. WS explains that for the DLS version, nproma should be maximized within memory constraints. They will provide a recipe for both GPU and CPU versions, with optimal nproma appearing to be 48.</p> <p>MA raises a question regarding a reported speedup factor of 1.4. WS clarifies that this speedup was gained in comparison to Balfrin.</p> <p>MJ inquires about the accessibility of the reported information to others. WS confirms that they will share the slides and requests a few more weeks to provide detailed speedup factor data.</p> <p>MS asks why advection is twice as slow on Alps compared to Balfrin. WS suggests that this could be due to numerical or memory issues, which require additional time to analyze and report precise numbers.</p>"},{"location":"events/icon_meetings/2024-1/#christian-steger","title":"Christian Steger","text":"<p>CS has joined MCH to study the physics of ICON, focusing on the interaction between topography and surface radiation.</p>"},{"location":"events/icon_meetings/2024-1/#alina-yapparova","title":"Alina Yapparova","text":"<p>AY, also recently joined MCH, will work on the GLORY project, specifically with 3D radiation data.</p>"},{"location":"events/icon_meetings/2024-1/#marco-arpagaus","title":"Marco Arpagaus","text":"<p>MA provides an update on ICON-22, acknowledging the ongoing challenge of the Alps system experiencing frequent reboots, which has been a drawback. Despite this issue, ICON continues to perform well overall. There have been no significant surprises since its pre-operational phase. In comparison, ICON outperforms COSMO in most aspects, although a few systematic biases persist, notably the 2m temperature. MA suggests strategies to address bias, including improving snow analysis and adjusting the minimum diffusion coefficient for better stabilization during winter. However, implementation of these changes must wait until sufficient statistical data for post-processing is collected. Operational deployment is scheduled for May.</p>"},{"location":"events/icon_meetings/2024-1/#arash-hamzehloo","title":"Arash Hamzehloo","text":"<p>AH is currently working on porting ART components to the GPU. There is an open merge request to add additional functionality.</p>"},{"location":"events/icon_meetings/2024-1/#corina-keller","title":"Corina Keller","text":"<p>CK is preparing to set up and run air quality simulations. Recently, a full chemistry case was incorporated into the Processing Chain.</p> <p>MJ remarks that he is available to offer assistance with the Processing Chain.</p>"},{"location":"events/icon_meetings/2024-1/#michael-steiner","title":"Michael Steiner","text":"<p>MicS reports that ICON-ART is operating smoothly with multiple passive tracers.</p>"},{"location":"events/icon_meetings/2024-1/#kutay-donmez","title":"Kutay D\u00f6nmez","text":"<p>KD is working on integrating something into ICON to address urban climate issues.</p> <p>DB asks if this involves CORINE land cover data.</p>"},{"location":"events/icon_meetings/2024-1/#mikael-stellio","title":"Mikael Stellio","text":"<p>MK has integrated infrastructure from EXCLAIM into HAM. MK is currently working on Tsa as it is easier to use GT4PY there.</p>"},{"location":"events/icon_meetings/2024-2/","title":"ICON Meeting 2024/2","text":"<p>20 June 2024, ETH Zurich (L 17.1) and via Zoom</p>"},{"location":"events/icon_meetings/2024-2/#participants-on-site","title":"Participants (on-site)","text":"<p>Michael J\u00e4hn (MJ), Matthieu Leclair (ML), Annika Lauber (AL), Jonas Jucker (JJ), Fulden Batibeniz (FB), Emmanuele Russo (ER), Guillaume Bertolli (GB), Brigitta Goger (BG), Clarissa Kroll (CK), Doris Folini (DF)</p>"},{"location":"events/icon_meetings/2024-2/#participants-zoom","title":"Participants (Zoom)","text":"<p>Sylvaine Ferrachat (SF), Fabian Gessler (FG), Lukas Jansing (LJ), Mikael Stellio (MS), Nander Wever (NW), Jacopo Canton (JC), Christian Steger (CS), Alina Yapparova (AY), David Leutwyler (DL), Sven Kotlarski (SK), Dominik Brunner (DB), Arash Hamzehloo (AH), Will Sawyer (WS)</p> <p>Minutes by Annika Lauber</p>"},{"location":"events/icon_meetings/2024-2/#reports","title":"Reports","text":""},{"location":"events/icon_meetings/2024-2/#c2sm-michael-jahn-annika-lauber-matthieu-leclair-jonas-jucker","title":"C2SM (Michael J\u00e4hn, Annika Lauber, Matthieu Leclair, Jonas Jucker)","text":"<p>MJ welcomes everyone and shares the latest news about ICON from C2SM .</p> <p>ML reporting on Alps. CK asks how to do benchmarking. Nobody really knows. ML answers so far the only piece of information available is WS's benchmark (presentation to come).</p>"},{"location":"events/icon_meetings/2024-2/#guillaume-bertolli","title":"Guillaume Bertolli","text":"<p>Over the last three years, GB has been focused on building a machine learning implementation for ECRAD. Next, instead of just predicting the contribution of radiation, the plan is to predict the sum of all physics contributing to tendencies. The dataset needed for this next phase has not yet been constructed.</p>"},{"location":"events/icon_meetings/2024-2/#emmanuele-russo","title":"Emmanuele Russo","text":"<p>ER shared that for ICON-CLM, they finally found the optimal calibration for the EURO-CORDEX domain. The model performance is pretty good, especially compared to COSMO-CLM. They applied several model developments, including a routine for transient aerosol.</p> <p>AL asked if it will run on a CPU as the transient aerosol datasets is not yet ported to GPU.</p> <p>ER confirmed that it will be on a CPU for now but asks when the port is expected to be ready.</p> <p>AL answers that it is really hard to predict as it has to be done from scratch now.</p>"},{"location":"events/icon_meetings/2024-2/#brigitta-goger","title":"Brigitta Goger","text":"<p>BG reported that she is using ICON below 1km. There has been a paper accepted using the limited area setup over Austria. Regarding the hecometric range, BG mentioned that there might be an issue with the Smagorinsky model, as there is a clear bias, at least.</p> <p>As a side project with Nadja Omanovic, they explored the representation of clouds at 1km and 65m resolutions, using both 1-moment and 2-moment schemes. They concluded that to represent clouds resolution is more important than on the microphysics scheme.</p>"},{"location":"events/icon_meetings/2024-2/#clarissa-kroll","title":"Clarissa Kroll","text":"<p>CK reported that they are using the ICON-Seamless/ICON-xpp (extended predictions and projections) setup and plan to merge it with ICON-EXCLAIM. Additionally, they are working on a radiative dumping option.</p>"},{"location":"events/icon_meetings/2024-2/#doris-folini","title":"Doris Folini","text":"<p>DF is just here to inform herself on ICON. She was part of Christoph Sch\u00e4r's group, which no longer exists.</p>"},{"location":"events/icon_meetings/2024-2/#fulden-batbeniz","title":"Fulden Bat\u0131beniz","text":"<p>FB reported that her goal is to use the ICON-CLM configuration, hopefully on GPU. However, they need to do benchmarking, which is not possible yet. FB's project focuses on seasonal predictions.</p>"},{"location":"events/icon_meetings/2024-2/#nander-wever","title":"Nander Wever","text":"<p>NW reported that he works at SLF, with his main task being snowpack development. They aim to make it operational for the next winter season.</p>"},{"location":"events/icon_meetings/2024-2/#sylvaine-ferrachat","title":"Sylvaine Ferrachat","text":"<p>SF reported that there has been no new development on ICON-HAM since the last meeting. However, they plan to soon set up ICON-HAM as a global simulation with climatology at the R2B8 resolution.</p>"},{"location":"events/icon_meetings/2024-2/#jacopo-canton","title":"Jacopo Canton","text":"<p>JC reported that he is mostly working with ICON4py and using ICON primarily for validation. He is attending the meeting to stay up to date.</p>"},{"location":"events/icon_meetings/2024-2/#sven-kotlarski","title":"Sven Kotlarski","text":"<p>SK, from the climate department of MCH, mentioned their efforts to link ICON-CLM development to climate scenarios. They understand that this integration will take more time, but fortunately, the scenarios do not have a real dependency. They expressed the desire to have something available soon. SK clarified that he does not engage in coding for ICON and is not familiar with the technical details.</p>"},{"location":"events/icon_meetings/2024-2/#david-leutwyler","title":"David Leutwyler","text":"<p>DL supports Team X's campaign in Austria and is working on writing proposals for CSCS.</p>"},{"location":"events/icon_meetings/2024-2/#christian-steger","title":"Christian Steger","text":"<p>CS, from the numerical weather forecasting team, is currently investigating the topographic setting for surface radiation. They are exploring which parameterizations would be appropriate to port. CS asks people to let him know if they are working with complex terrain at high resolutions.</p>"},{"location":"events/icon_meetings/2024-2/#mikael-stellio","title":"Mikael Stellio","text":"<p>MS is currently focused on the GPU side of ICON-HAM and is working on optimizing tracer advection.</p>"},{"location":"events/icon_meetings/2024-2/#alina-yapparova","title":"Alina Yapparova","text":"<p>AY is part of the GLORI-A project and is involved in simulating 3D radar data. They are currently running ICON with Emvorado, and recently fixed a bug in Emvorado.</p>"},{"location":"events/icon_meetings/2024-2/#lukas-jansing","title":"Lukas Jansing","text":"<p>LJ started working in MCH-SEN last September, focusing on preparing the model for simulations. They are still in the process of finishing product migration and are experimenting with finding a better configuration for production. LJ noted there is still a temperature bias in valleys that needs addressing. Additionally, they have begun working on GLORI-A, conducting the first set of 500m simulations, though no significant results have emerged thus far.</p>"},{"location":"events/icon_meetings/2024-2/#fabian-gessler","title":"Fabian Gessler","text":"<p>FG spends most of his time getting ICON operational on GPUs and is currently focused on achieving further performance improvements. They are still using more nodes than preferred. FG will probably be contributing to the GLORI-A project in the future.</p>"},{"location":"events/icon_meetings/2024-2/#arash-hamzehloo","title":"Arash Hamzehloo","text":"<p>AH is currently porting components of ART to GPUs and testing new code using CO2 over Zurich.</p>"},{"location":"events/icon_meetings/2024-2/#dominik-brunner","title":"Dominik Brunner","text":"<p>DB mentioned that his group is working a lot on greenhouse gas modeling and has found GPU ports to be crucial. They are currently transitioning to the GPU version and also engage in air pollution modeling. ICON-ART includes chemistry capabilities, although they haven't yet implemented all required processes; a postdoc is dedicated to this task.</p> <p>They are also examining the impact of net-zero scenarios on air pollution. Recently, they conducted a two-day training course for ICON-ART, including a setup exercise for air pollution modeling on Levante.</p>"},{"location":"events/icon_meetings/2024-2/#will-saywer-presenting-icon-on-alps-how-is-it-performing","title":"Will Saywer presenting \"ICON on Alps: How is it performing?\"","text":"<ul> <li>Presentation (pdf) </li> <li>ICON benchmarks </li> </ul>"},{"location":"events/icon_meetings/2024-2/#discussion","title":"Discussion","text":"<p>ML asks how WS's benchmarking will be able to be used.</p> <p>WS responds: It can be used, but not exactly the same.</p> <p>ML asks about achieving higher resolution with less use of the power cabinet.</p> <p>WS believes they have identified the issue and will rerun the benchmarks. R2B9 shows improvement but still doesn't match R2B7.</p> <p>DL asks if WS can correlate the different steps. There are various steps in R2B7.</p> <p>WS explains that initialization is a key step, and in the first timestep, reading boundary conditions takes a significant amount of time. This process is much quicker for lower resolutions.</p> <p>DL remarks that it would be valuable to have these results documented somewhere on the wiki. He also speculates that WS has many tricks for conducting benchmarks and asks if WS could share them.</p> <p>WS responds that he will definitely share those tricks. He mentions there's no decision yet on enabling low-noise mode but assures that there will be at least one partition available with low-noise mode.</p> <p>DL then mentions he's working on a recommended configuration. He asks if not using just-fit mode instantly drops below 50%.</p> <p>WS clarifies that it doesn't. Personally, WS disagrees with using just-fit mode and suggests running on the best-fit configuration instead. He points out that the machine is so powerful that it will still yield a good time-to-solution.</p> <p>FB mentions she is writing a proposal using ICON-CLM, which is still in the development phase for GPU porting. They tested it on Daint because it doesn't run on ALPS. Maria Grazia mentioned that scaling on Daint will likely be rejected.</p> <p>WS responds that Maria Grazia mentioned they can apply for an account to conduct early testing.</p> <p>FB adds that ICON-CLM is not finalized yet and hasn't been tested on pre-ALPS systems.</p> <p>MJ notes they have a similar setup and could potentially run it on ALPS. They ask if FB can use WS's benchmarking.</p> <p>WS confirms FB can use their benchmarking, but it's a different configuration. WS isn't sure if this could be a reason for rejection. WS offers asking Maria Grazia if that would help.</p> <p>ML suggests that benchmarking for ICON-NWP could also be useful for ICON-CLM. They ask if WS could share the namelist.</p> <p>WS agrees to share the namelist and mentions that he  can also provide access to weak scalability tests for certain people.</p> <p>DB asks how much faster a given configuration runs on Alps compared to Daint and if one can estimate from that comparison.</p> <p>WS responds that If you run GPU-to-GPU configuration, Alps is roughly a factor of 9 faster. However, this approach wouldn't fully utilize memory, so you would use fewer nodes.</p> <p>JC asks about the power cap per cabinet.</p> <p>WS corrects that it's actually per GPU. In terms of energy-to-solution, you can make it run faster but not in a linear way. Grace CPU is very powerful and shares memory with GPU. Some people may want to run components on CPU, but this gives priority to the CPU, potentially slowing down the GPU. WS notes they need to caution users because running large components on the CPU might not perform well. Ocean-atmosphere coupling is an example of such a component. CSCS is advocating for a GPU port to address these issues.</p> <p>ML asks how reducing the cap would affect scaling.</p> <p>WS responds that it would likely improve scaling, but emphasizes that setting the power cap involves political decisions.</p> <p>ML queries if the power cap could vary across different clusters.</p> <p>WS replies that he is unsure but can inquire about it.</p> <p>DF mentions that all tests were conducted within one cabinet and asks if it's expected for individual jobs to run within a single cabinet.</p> <p>WS responds by mentioning they ran other tests (R2B11) that did not fit into one cabinet, noting it had minimal impact.</p> <p>ML comments that a virtual cluster cap may not work because it's virtual.</p> <p>WS admits he's uncertain about how elastic it is and plans to revisit the issue.</p> <p>WS states he will discuss what information can be shared on the wiki and will inquire with Maria Grazia about whether benchmarks from Daint are sufficient.</p>"},{"location":"events/icon_meetings/SUMMARY/","title":"SUMMARY","text":"<ul> <li>ICON Meetings</li> <li>2024/2</li> <li>2024/1</li> <li>2023/4</li> <li>2023/3</li> <li>2023/2</li> <li>2023/1</li> <li>2022/4</li> <li>2022/3</li> <li>2022/2</li> <li>2022/1</li> </ul>"},{"location":"group_pages/","title":"Group Pages","text":"<p>Links to documents and material of individual C2SM projects.</p>"},{"location":"group_pages/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Group Pages</li> <li>WEW-ICON</li> </ul>"},{"location":"group_pages/wew-icon/","title":"WEW-ICON","text":"<p>Documents of all WEW-ICON meetings can be found at polybox under this link (password-protected) .</p>"},{"location":"models/","title":"Models","text":"<p>C2SM supports the three weather and climate models ICON, COSMO, and CESM, along with associated pre- and post-processing tools, on different high-performance platforms. This page provides an overview, along with detailed documentation and manuals for each required software component to run simulations using these specific models.</p>"},{"location":"models/cesm/","title":"CESM","text":"<p>The Community Earth System Model (CESM) is a fully-coupled, global climate model that provides state-of-the-art computer simulations of the Earth's past,  present, and future climate states. For more info please see the CESM Homepage .</p>"},{"location":"models/cesm/#support-status","title":"Support status","text":"<p>The current supported version on ETH Cluster Euler  are CESM 1.2.2 and CESM 2.1.2. Newer CESM2 versions are supported by request. We recommend to use CESM2. Please contact Urs Beyerle  for support.</p>"},{"location":"models/cesm/#get-started","title":"Get started","text":"<ul> <li>Setup a CESM2 control run  (ETH login required)</li> <li>Setup a CESM1 control run  (ETH login required)</li> </ul>"},{"location":"models/cesm/#input-files","title":"Input files","text":"<ul> <li>On Euler: <code>/cluster/work/climate/cesm/inputdata</code></li> </ul>"},{"location":"models/cosmo/","title":"COSMO","text":"<p>The COSMO model is a limited-area, non-hydrostatic model developed by a collaboration of National Weather Services called the Consortium for Small-scale Modeling .</p>"},{"location":"models/cosmo/#support-status","title":"Support status","text":"<p>C2SM currently facilitates the utilisation of COSMO on the Piz Daint  computing platform for CPU and GPU architectures. The <code>master</code> and <code>c2sm-features</code> branches are being continuously tested an Piz Daint. On the ETHZ Euler CLuster  COSMO is supported for CPU architectures only.</p> <p>The following table summarises the features ported to GPU and their correspoding namelist parameters.</p> GPU ported COSMO features <p>Warning</p> <ul> <li>The support status on the future Alps system is not yet known. It strongly depends on the ability to use an old interpretation of the OpenACC standard.</li> <li>C2SM's support for COSMO is scheduled to stop end of 2024</li> </ul>"},{"location":"models/cosmo/#parameters-in-input_org","title":"Parameters in <code>INPUT_ORG</code>","text":"scheme/parameterisation namelist parameter GPU porting status Physics <code>lphys</code> ported Diagnostics <code>ldiagnos</code> ported Digital filtering <code>ldfi</code> not ported Use observations <code>luseobs</code> ported Ensemble mode <code>leps</code> ported Stochastic perturbation of physics tendencies <code>lsppt</code> ported Synthetic satellite images <code>luse_rttov</code> not ported Radar forward operator <code>luse_radarfwo</code> not ported Aerosol and Reactive Tracer module (ART) <code>l_cosmo_art</code> not ported Pollen module <code>l_pollen</code> ported (available in MeteoSwiss Fork only) Online trajectory module <code>l_traj</code> ported Zero vertical velocity on lower boundary <code>llm</code> not supported in the C++ dycore Incremental analysis update <code>itype_iau = 0</code>, <code>1</code>, <code>2</code> Only itype_iau = 0 ported Idealised runs <code>lartif_data</code> not ported 2D model runs <code>l2dim</code> not ported Periodic boundary conditions in X direction <code>lperi_x</code> ported (not tested) Periodic boundary conditions in Y direction <code>lperi_y</code> ported (not tested) Reproducible results in parallel mode <code>lreproduce</code> ported Reorder MPI process numbering <code>lreorder</code> not ported Implicit MPI buffering <code>ldatatypes</code> ported Additional MPI barriers <code>ltime_barrier</code> ported Write ASCII files every time step <code>ldump_ascii</code> ported All processors write debug output <code>lprintdeb_all</code> ported Debug statements in various model sections <code>ldebug_dyn</code>, <code>ldebug_gsp</code>, <code>ldebug_rad</code>, <code>ldebug_sso</code>, <code>ldebug_tur</code>, <code>ldebug_con</code>, <code>ldebug_soi</code>, <code>ldebug_io</code>, <code>ldebug_mpe</code>, <code>ldebug_dia</code>, <code>ldebug_lhn</code>, <code>ldebug_ass</code>, <code>ldebug_art</code> partially ported, not all prints are active on GPU Initialise local variables <code>linit_fields</code> not ported"},{"location":"models/cosmo/#parameters-in-input_phy","title":"Parameters in <code>INPUT_PHY</code>","text":"scheme/parameterization namelist parameter GPU porting status Grid-scale precipitation scheme <code>lgsp</code> ported Grid-scale precipitation scheme type <code>itype_gscp = 1</code>, <code>2</code>, <code>3</code>, <code>4</code> only <code>itype_gscp = 3</code>, <code>4</code> ported to gpu Run grid-scale precipitation scheme first <code>lgsp_first</code> only <code>lgsp_first = .TRUE.</code> ported to gpu Radiation <code>lrad</code> ported Cloud representation mode <code>icldm_rad = 0</code>, <code>1</code>, <code>3</code>, <code>4</code> all options ported Forest <code>lforest</code> ported Topographic correction of radiation <code>lradtopo</code> ported External surface emissivity <code>lemiss</code> ported Aerosol scheme type <code>itype_aerosol = 1</code>, <code>2</code>, <code>3</code> only <code>itype_aerosol = 1</code>, <code>2</code> ported Albedo scheme type <code>itype_albedo = 1</code>, <code>2</code>, <code>3</code>, <code>4</code> all options ported Convection scheme <code>lconv</code> ported Convection scheme type <code>itype_conv = 0</code>, <code>2</code>, <code>3</code> all options ported Vertical turbulent diffusion <code>ltur</code> ported Old turbulence scheme behavior <code>loldtur</code> Only <code>loldtur = .TRUE.</code> is ported and tested Vertical diffusion calculation location <code>itype_vdif = -1</code>, <code>0</code>, <code>1</code> <code>itype_vdif = -1</code> is ported. <code>itype_vdif = 0</code>, <code>1</code> is ported but NOT tested Turbulence scheme type <code>itype_turb = 1</code>, <code>3</code>, <code>5/7</code> only <code>itype_turb = 3</code> is tested 3D turbulence <code>l3dturb</code> not ported TKE equation type <code>imode_turb = 0</code>, <code>1</code>, <code>2</code> only <code>imode_turb</code> is tested SSO wake turbulent production <code>ltkesso</code> ported TKE convective buoyancy production <code>ltkecon</code> ported TKE horizontal shear production <code>ltkeshs</code> ported - not tested Shear production type <code>itype_sher = 0</code>, <code>1</code>, <code>2</code> only <code>0</code> is tested Transfer scheme type <code>itype_tran = 1</code>, <code>2</code> only <code>0</code> is tested TKE equation type in transfer scheme <code>imode_tran = 0</code>, <code>1</code>, <code>2</code> only <code>1</code> is tested Soil model <code>lsoil</code> ported Sea ice scheme <code>lseaice</code> not ported Flake lake model <code>llake</code> ported Multi-layer snow model <code>lmulti_snow</code> ported but NOT tested Vegetation transpiration type <code>itype_trvg = 1</code>, <code>2</code> all options ported Bare soil evaporation type <code>itype_evsl = 2</code>, <code>3</code>, <code>4</code> all options ported Root distribution type <code>itype_root = 1</code>, <code>2</code> all options ported Canopy parameterization type <code>itype_canopy = 1</code>, <code>2</code> all options ported Soil heat conductivity type <code>itype_heatcond = 1</code>, <code>2</code>, <code>3</code> all options ported Mire parameterization type <code>itype_mire = 0</code>, <code>1</code> all options ported Hydraulic lower boundary parameterization <code>itype_hydbound = 1</code>, <code>3</code> all options ported Snow-cover fraction type <code>idiag_snowfrac = 1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>20</code>, <code>30</code>, <code>40</code> all options ported Subgrid scale orography <code>lsso</code> ported"},{"location":"models/cosmo/#parameters-in-input_dyn","title":"Parameters in <code>INPUT_DYN</code>","text":"<p>The GPU porting of the dynamical core of COSMO was accomplished by rewriting the dynamics with the Gridtools stencil library. The Gridtools dycore supports a subset of the parameters of the COSMO Fortran dynamical core. The list of features currently supported in the Gridtools dycore can be found in the [documentation in the code repository] (https://github.com/C2SM-RCM/cosmo/blob/master/dycore/doc/Dycore/supported_configuration.tex).</p>"},{"location":"models/cosmo/#access","title":"Access","text":"<p>In order to get access to the COSMO repository  hosted on the C2SM-RCM GitHub organisation, please contact C2SM Support.</p> <p>Once you have access, clone the repository from GitHub using the SSH protocol: <pre><code>git clone git@github.com:C2SM-RCM/cosmo.git\n</code></pre> If you do not already have an SSH key set up for GitHub but would like to do so, follow the instructions .</p>"},{"location":"models/cosmo/#configure-and-compile","title":"Configure and compile","text":"<p>For configuring and building COSMO with Spack, please refer to the official spack-c2sm documentation, which provides instructions for setting up a Spack instance  and installing COSMO  on Piz Daint and Euler Cluster.</p>"},{"location":"models/cosmo/#related-tools","title":"Related tools","text":"<p>In the Tools section, you will find relevant tools for working with COSMO:</p> <ul> <li>Extpar: External parameters for the COSMO-grid (preprocessing)</li> <li>int2lm: The interpolation software for the COSMO-model (preprocessing)</li> <li>Processing Chain: Python workflow tool for COSMO</li> </ul>"},{"location":"models/cosmo/#documentation","title":"Documentation","text":"<p>COSMO documentation is available at:</p> <ul> <li>Official website of the Consortium for Small-scale Modeling (COSMO) </li> <li>COSMO Model System Overview </li> <li>COSMO User's Guide  </li> </ul>"},{"location":"models/cosmo/#asynchronous-io-for-netcdf-a-guide-for-an-optimal-model-setup","title":"Asynchronous IO for NetCDF - A Guide for an optimal model setup","text":""},{"location":"models/cosmo/#node-configuration","title":"Node configuration","text":"<p>When using asynchronous IO (Input/Output), the workload of the IO processors must be carefully balanced. In general, no robust \"rule of thumb\" has been found, so some benchmark runs may be necessary. Finding an optimal setup is not trivial, since the number of output namelists, the number of fields, and the number of IO processors may vary between different setups. In particular, overloading the IO processors during model cleanup at the end of a job leads to additional runtime. Note that using online compression can sometimes significantly increase the time and resources required for IO.</p> <p>A quick overview of the actual workload on the IO processors can be obtained from the COSMO logs by increasing the verbosity settings of the log (<code>ldebug_io=.true.</code>, <code>idbg_level=6</code>): <pre><code>Asyn-IO: block number xx was filled. Allocating a new block\n</code></pre></p> <p>The above log is printed each time a new buffer block is allocated. This means that the Compute PEs (Processing Elements) store output data until the IO processors write it to disk. If the number of allocated blocks increases during the simulation, i.e., more and more buffer blocks must be stored on the compute PEs after each output step, the IO processors will not write as fast as the model generates new output.</p> <p>When the speed of writing data to disk by the IO processors and the model timestepping are in balance, the log message changes to: <pre><code> Asyn-IO: block number xx was filled, but the oldest one was released\n</code></pre> It indicates that a balance has been reached between writing data to disk and the model generating new output. In addition, each time an output file is completely written to disk, the corresponding IO processor prints a message that looks like this:</p> <pre><code>start_ionode:  Next asynchronous output will be done in step: xx\n</code></pre> <p>This log can give additional insight into how long it takes to write a file to disk. In addition, there is a timer called <code>asyncio_wait</code> in the output section of YUTIMING. </p> <p><pre><code>Output                         0.19         0.43         0.86        72.65\n  computations O               0.08         0.11         0.16        17.71\n  meta  data                   0.00         0.00         0.00         0.00\n  write data                   0.00         0.19         0.55        32.70\n  gather data                  0.10         0.12         0.14        20.35\n  asynIO wait                  0.00         0.78         4.31       130.84\n</code></pre> It provides information about how long all compute-PEs had to wait at the end of the simulation for all IO processors to finish writing data to disk. This timer should be as small as possible.</p>"},{"location":"models/icon/","title":"ICON","text":"<p>ICON (Icosahedral Nonhydrostatic Weather and Climate Model) is a global model suitable for climate and weather prediction at regional and global domains. It is a joint project of DWD , MPI-M  and KIT .</p> <p>To stay informed about what is going on in the ICON world and to get to know other ICON users, please attend our quarterly ICON meeting.</p>"},{"location":"models/icon/#support-status","title":"Support status","text":"<p>C2SM facilitates the utilisation of ICON on the Piz Daint  and Euler  computing platforms for the CPU and GPU architectures.</p>"},{"location":"models/icon/#supported-release","title":"Supported release","text":"<p>The latest release distributed by C2SM, currently <code>2024.07</code> , is continuously being tested on both Piz Daint and Euler and receives patches when necessary.</p>"},{"location":"models/icon/#mailing-list","title":"Mailing list","text":"<p>If you use ICON, please follow these instructions to subscribe to our mailing list.</p>"},{"location":"models/icon/#access","title":"Access","text":"<p>The ICON repository  is hosted on the C2SM GitHub organisation. If you do not have access, please follow the instructions under How to get Access.</p> <p>Once you have access, clone the repository from GitHub using the SSH protocol:</p> <p><pre><code>git clone --recurse-submodules git@github.com:C2SM/icon.git\n</code></pre>   If you do not already have an SSH key set up for GitHub, but would like to do so, follow the instructions .</p>"},{"location":"models/icon/#configure-and-compile","title":"Configure and compile","text":"<p>The ICON build process is almost identical for Piz Daint and Euler. For both machines, Spack is used to build ICON. Refer to the official spack-c2sm documentation for installing ICON using Spack .</p>"},{"location":"models/icon/#piz-daint","title":"Piz Daint","text":"<p>To set up a Spack instance , ensure that you clone the repository using the Spack tag provided in the ICON repository at config/cscs/SPACK_TAG_DAINT .</p> <p>After building ICON using <code>spack install</code>, you need to create a <code>setting</code> file, which is only necessary once after the first compilation:</p> daint_gpu_nvhpc <pre><code>SPACK_TAG=$(cat \"config/cscs/SPACK_TAG_C2SM\")\nENV_NAME=daint_gpu_nvhpc # modify if necessary\nmodule load daint-gpu CDO\nrm -f setting\n./config/cscs/create_sh_env $SPACK_TAG $ENV_NAME\n</code></pre>"},{"location":"models/icon/#euler","title":"Euler","text":"<p>To set up a Spack instance , ensure that you clone the repository using the Spack tag provided in the ICON repository at config/ethz/SPACK_TAG_EULER .</p> <p>Euler Support recommends to compile code on compute-nodes. Unfortunately internet-access on Euler compute-nodes is restricted . Therefore a two-step install needs to be performed:</p> <pre><code># fetch and install cosmo-eccodes-definitions on login-node\nspack install cosmo-eccodes-definitions\n\n# compile ICON on compute-nodes\nsrun -N 1 -c 12 --mem-per-cpu=20G spack install -v -j 12\n</code></pre>"},{"location":"models/icon/#run-test-case-with-icon","title":"Run test case with ICON","text":"<p>In the run folder, you find many prepared test cases, which you can convert into run scripts. To generate the runscript of one of the experiment files, e.g. mch_ch_lowres, you can use the <code>make_runscripts</code> function.</p> <pre><code>./make_runscripts mch_ch_lowres\n</code></pre> <p>To run the created runscript, navigate to the run subdirectory and submit the runscript.</p> <p><pre><code>cd run &amp;&amp; sbatch ./exp.mch_ch_lowres.run\n</code></pre> You may need to adjust the account in the runscript to match your permissions. Alternatively, you can include <code>--account &lt;my_account_id&gt;</code> in the <code>sbatch</code> command.</p>"},{"location":"models/icon/#input-data","title":"Input data","text":"<p>ICON input data are stored at the following locations:</p> <ul> <li>Piz Daint (CSCS): <code>/users/icontest/pool/data/ICON</code></li> <li>Euler: <code>/cluster/work/climate/icon_input</code></li> </ul>"},{"location":"models/icon/#toolset","title":"Toolset","text":"<p>In the Tools section, you will find relevant tools for working with ICON:</p> <ul> <li>Extpar: External parameters for the ICON grid (preprocessing)</li> <li>Processing Chain: Python workflow tool for ICON</li> <li>SPICE: Starter package for ICON-CLM experiments</li> <li>icon-vis: Python scripts to visualise ICON data</li> </ul>"},{"location":"models/icon/#projects","title":"Projects","text":"<p>Learn more about ongoing projects involving ETHZ in the development of ICON:</p> <ul> <li>EXCLAIM  </li> <li>ICON-HAMMOZ </li> </ul>"},{"location":"models/icon/#documentation","title":"Documentation","text":"<p>ICON documentation is available at:</p> <ul> <li>ICON Tutorial (DWD) </li> <li>Getting Started with ICON </li> <li>MPI-M documentation </li> </ul>"},{"location":"models/icon/#external-software","title":"External Software","text":"<p>The following external software is useful for working with ICON data:</p> <ul> <li>CDO </li> </ul>"},{"location":"support/","title":"User Support","text":"<p>User Support refers to the Core Team's efforts to ensure that all supported software runs correctly on supported computer systems. This includes hosting the software for easy distribution to members, regular testing and helping members resolve issues with running and compiling. Find information about supported tools and models in the corresponding sections.</p>"},{"location":"support/#request-support","title":"Request support","text":"<p>To request regular support, please use our discussion forum . The Core Team will be notified and will respond as soon as possible. In addition, all C2SM members can participate in these discussions and help as well.</p> <p>If you do not have access to the support forum, please follow the instructions under How to get Access.</p> <p> Different threads in our discussion forum</p>"},{"location":"tasks/","title":"Tasks","text":"<p>The work of C2SM's technical team is structured around four working groups. The team receives tasks from three different areas, i.e., from C2SM members, community projects and third party projects, each of them following a specific assignment procedure.</p>"},{"location":"tasks/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Tasks</li> <li>Working Groups</li> <li>Task Assignment</li> </ul>"},{"location":"tasks/assignment/","title":"Task Assignment","text":"<p>The Core Team accepts tasks from the three different areas mentioned above, each following a specific procedure described below.</p> <p>Info</p> <p>Please submit concrete tasks by following the instructions on our GitHub repository Tasks-Support . If you do not have access, please follow the instructions under How to get Access.</p>"},{"location":"tasks/assignment/#requirements-for-tasks","title":"Requirements for Tasks","text":"<p>Tasks are one-\u200btime assignments that typically involve the development of a new model feature, acceleration/optimisation of a model feature, or other technical improvements to a model. Tasks are proposed by one or more C2SM members and are approved by the C2SM Working Groups (WGs). In case of tasks from C2SM Member Groups, priority will be given to tasks with greater benefit to multiple C2SM groups. Tasks must be related to our supported tools and models.</p>"},{"location":"tasks/assignment/#overview-of-current-tasks","title":"Overview of current tasks","text":"<p>An overview of all submitted tasks can be found at the issues list  of our Tasks-Support  repository. The current task status of each WG is visible under the projects  section.</p>"},{"location":"tasks/assignment/#detailed-task-assignment","title":"Detailed task assignment","text":"<p>Task assignment depends on which area submitted it. This section describes terms, conditions and procedures in the three possible cases.</p>      Tasks from C2SM Member Groups    <ol> <li> <p>Submission: Tasks can be submitted as issues through our GitHub repository Tasks-Support  at any time. The task proposal must include a description and goals of the task, a time estimate, a statement of urgency, the groups involved, and at least one contact person. It should also describe the benefit to C2SM. Please follow the instructions to Submit a Task .</p> </li> <li> <p>Evaluation: The Core Team will evaluate the proposals and may provide feedback/ask questions/reiterate the proposals to the groups. Priority will be given to tasks with greater benefit to multiple C2SM groups. Updates on the tasks will be directly given on the submitted task in the GitHub repository.</p> </li> <li> <p>Core Team starts working on task: Depending on the urgency or current workload of the Core Team, C2SM may begin to work on the task immediately or at a later point in time.</p> </li> <li> <p>Feedback and Discussion of Tasks: During the biannual WG Day, to which representatives of each C2SM member group are invited, the status and future of submitted tasks are discussed. Members can provide critical feedback on the process.</p> </li> </ol>      Tasks from Community Projects    <p>Tasks are also taken from C2SM Community Projects. These are large, perennial, and joint research and/or development projects involving at least three C2SM groups and two different partner institutions, with a substantial financial volume. Their overall objective supports the implementation of one or more of the four pillars of C2SM. The project produces results that no single group could have produced on its own. Their results benefit a large majority of C2SM members. These projects receive significant support from C2SM core funding in the form of in-kind contributions from core staff.</p>      Tasks from third-party Projects    <p>As outlined in C2SM's business plan for 2021-25 , the Executive Office also relies on funding from third-party projects. We are therefore happy to contribute to the research projects of our members (e.g., SNF, EU, ETH) in our fields of expertise.</p>"},{"location":"tasks/assignment/#community-project-task-assignment-process","title":"Community Project Task Assignment Process","text":"<ul> <li>The C2SM Steering Committee (SC) discusses and recommends C2SM's involvement in a Community Project at the proposal stage. This includes a suggestion on the approximate number of FTEs to be reserved for the project;</li> <li>The C2SM Executive Director (ED) forwards the information to the Core Team, and together with the responsible programmers evaluates the feasibility of the plans, taking into account all other ongoing activities and plans;</li> <li>The ED forwards the information back to the SC;</li> <li>The SC approves the plans and time allocated to the Community Project;</li> <li>The C2SM Core Team reserves the FTEs assuming the project will be funded;</li> <li>At the latest at the beginning of the project, the project steering group develops and formulates how it envisions the involvement of the Core Team and defines specific tasks. The tasks are submitted as a proposal to the C2SM ED and the involved programmers;</li> <li>The ED and the responsible programmer(s) evaluate the tasks, provide feedback/clarification, and finally submit their proposal to the C2SM SC;</li> <li>The SC approves the task list;</li> <li>The task assignment from Community Projects is repeated regularly, at biannual or annual intervals, ideally 1-2 months before the biannual Working Group Day.</li> </ul>"},{"location":"tasks/assignment/#current-projects","title":"Current projects","text":"<ul> <li>EXCLAIM </li> <li>Next generation Swiss climate scenarios CH2025 </li> </ul>"},{"location":"tasks/assignment/#third-party-projects-that-benefit-multiple-c2sm-groups","title":"Third-Party Projects that Benefit Multiple C2SM Groups","text":"<p>These can be projects of individual C2SM members as PI, possibly together with other co-PIs from the community, funding individual tasks of core team programmers. These projects will be supported in particular if the results will benefit several C2SM groups.</p>"},{"location":"tasks/assignment/#third-party-projects-with-benefits-to-the-pi-only","title":"Third-Party Projects with Benefits to the PI Only","text":"<p>A member may also propose a task/tasks to be funded from their project, but where the benefit is limited to their group. These proposals will be realised if C2SM capacity is available. However, they will have a lower priority than projects with a greater benefit to the community.</p>"},{"location":"tasks/assignment/#current-projects_1","title":"Current projects","text":"<ul> <li>SNF scClim project </li> </ul>"},{"location":"tasks/assignment/#task-portfolio","title":"Task Portfolio","text":"<p>The core team's contributions consist largely of technical model development and support tasks. Individual tasks may also include setting up and maintaining a project website, or organising individual workshops or seminar series.</p>"},{"location":"tasks/assignment/#procedure-for-proposing-participation-in-a-third-party-project","title":"Procedure for Proposing Participation in a Third-Party Project","text":"<ul> <li>The project PI contacts the C2SM Executive Director (ED) at the proposal stage by submitting a written proposal similar to the task proposals for group tasks;</li> <li>The ED, along with an assigned Core Team member, will provide feedback to the PI and may review the proposal again;</li> <li>If the proposal meets the above conditions, C2SM will consider it accepted and reserve time for its execution in the following year;</li> <li>C2SM will reserve approximately 3-7 person months (0.3-0.6 FTE) per year for tasks from external projects.</li> </ul>"},{"location":"tasks/working_groups/","title":"Working Groups","text":""},{"location":"tasks/working_groups/#wg-1-high-performance-computing","title":"WG 1 - High Performance Computing","text":"<p>Activities for this group mainly contribute to the further development and usage of next-generation weather and climate models such as ICON or COSMO using innovative coding concepts (e.g., beyond CPU architectures).</p>"},{"location":"tasks/working_groups/#wg-2-weather-and-climate-modeling","title":"WG 2 - Weather and Climate Modeling","text":"<p>This group gathers all activities revolving around weather and climate modelling with the exception of WG 1 (HPC), like usage, maintenance and support. They can target weather and climate models and their potential extensions (e.g. aerosols, chemistry) and ESMs. Tasks may include coupling of model components, general tools around pre- and post-processing, automated testing, etc.</p>"},{"location":"tasks/working_groups/#wg-3-next-generation-swiss-climate-scenarios","title":"WG 3 - Next Generation Swiss Climate Scenarios","text":"<p>This group focuses on the next generation of Swiss Climate Scenarios. Tasks typically include data quality and control, management, and processing. In addition, we run ICON-CLM simulations.</p>"},{"location":"tasks/working_groups/#wg-4-impact-research","title":"WG 4 - Impact Research","text":"<p>This group focuses on providing climate data for impact research. Tasks may include standardising and documenting climate model outputs or climate observations for easier use. We also provide regular support on how to use this type of data.</p>"},{"location":"tools/","title":"Tools","text":"<p>C2SM supports a couple of pre- and postprocessing tools on different high-performance platforms. This page provides an overview, further documentation and manuals for each specific software that is needed to run the tools.</p>"},{"location":"tools/SUMMARY/","title":"SUMMARY","text":"<ul> <li>Tools</li> <li>DWD ICON Tools</li> <li>EXTPAR</li> <li>icon-vis</li> <li>INT2LM</li> <li>Processing Chain</li> <li>Scaling Analysis</li> <li>SPICE</li> <li>Zephyr</li> </ul>"},{"location":"tools/extpar/","title":"EXTPAR","text":"<p>EXTPAR (External Parameters for Numerical Weather Prediction and Climate Application) is an official COSMO Consortium software that generates external parameter fields used as input for the COSMO and ICON models.</p>"},{"location":"tools/extpar/#support-status","title":"Support status","text":"<p>The <code>master</code> branch is continuously being tested on Piz Daint</p>"},{"location":"tools/extpar/#access","title":"Access","text":"<p>In order to get access to the EXTPAR repository hosted on the C2SM-RCM GitHub organisation ,  please contact Jonas Jucker .</p> <p>Once you have access, please follow the instructions in the README of EXTPAR  carefully.</p>"},{"location":"tools/extpar/#web-interfaces-for-external-parameters","title":"Web Interfaces for External Parameters","text":"<p>Currently there are two web interfaces to generate the external parameters automatically:</p> <ul> <li>WebPEP  - online external parameter file generator for COSMO (CLM login required)</li> <li>PAMORE  - online ICON-grid and external parameter file generator for ICON (DWD login required)</li> </ul>"},{"location":"tools/extpar/#documentation","title":"Documentation","text":"<p>EXTPAR documentation is attached as an asset of each release on GitHub , where it can be downloaded as pdf.</p>"},{"location":"tools/icon-vis/","title":"icon-vis","text":"<p>The icon-vis  repository has been developed in collaboration with MeteoSwiss for beginners or those looking for advanced features to plot ICON output on the unstructured grid. More information can be found in the repository itself.</p>"},{"location":"tools/icon-vis/#support-status","title":"Support status","text":"<p>The <code>master</code> branch is continuously being tested on Piz Daint and Tsa.</p>"},{"location":"tools/icontools/","title":"DWD ICON Tools","text":"<p>DWD ICON Tools contain a set of routines which may be suitable for reading, remapping and writing of fields from and to predefined grids, e.g., regular (lat-lon, gaussian) or triangular (ICON). It can be used to generate lateral boundary conditions (LBC) and initial conditions (IC) for ICON-LAM simulations.</p>"},{"location":"tools/icontools/#support-status","title":"Support status","text":"<p>The <code>master</code> branch is continuously being tested on Piz Daint.</p>"},{"location":"tools/icontools/#access","title":"Access","text":"<p>In order to get access to the DWD ICON Tools repository hosted on the C2SM GitHub organisation , please contact your group's technical contact. They will be responsible for adding you to the appropriate user group.</p>"},{"location":"tools/icontools/#compile","title":"Compile","text":"<p>Spack takes care of configuring and building Icontools. For detailed instructions, please consider the official spack-c2sm documentation . The following Spack installation should be sufficient for most cases:</p> <pre><code>spack install icontools@c2sm-master%gcc\n</code></pre> <p>After the installation, you need to load the package with Spack:</p> <pre><code>spack load icontools\n</code></pre>"},{"location":"tools/icontools/#run","title":"Run","text":"<p>The folder C2SM in the icontools repository  contains a bunch of scripts to run <code>iconremap</code> and <code>icongridgen</code> on Piz Daint. Most likely you will use the DWD ICON tools to generate a new grid or interpolate boundary conditions for limited-area ICON runs. </p> <p>Below is a recipe to create initial and boundary files for an ICON-LAM run on Piz Daint.</p>"},{"location":"tools/icontools/#clone-the-repository","title":"Clone the repository","text":"<pre><code>git clone git@github.com:C2SM/icontools.git\n</code></pre>"},{"location":"tools/icontools/#generate-a-new-icon-grid","title":"Generate a new ICON grid","text":"<pre><code>icongridgen --nml icontools/C2SM/gridgen.nml\n</code></pre>"},{"location":"tools/icontools/#interpolate-bc-from-ifs","title":"Interpolate BC from IFS","text":"<p>This manual refers to the workflow MeteoSwiss currently uses to run LAM simulations.</p> <ul> <li> <p>Add fields <code>FI</code> and <code>z</code> from IFS analysis to LBC prior to the interpolation using <code>cdo</code> (GRIB only). To use the <code>cdo</code> command, make sure the module is loaded: <code>module load daint-gpu CDO</code>.</p> <pre><code>cdo -selname,FI analysis_file fi_file\ncdo -selname,z analysis_file z_file\ncdo settime,'03:00:00' fi_file fi_file_time\ncdo settime,'03:00:00' z_file z_file_time\ncdo setreftime,2019-09-30,03:00:00  z_file_time z_file_reftime\ncat lbc_file zfile_reftime fi_file_time &gt; complete_file\n</code></pre> </li> <li> <p>Adapt scripts <code>icontools/C2SM/remap_ini</code> and <code>icontools/C2SM/remap_lbc</code> to your needs</p> </li> <li> <p>Remap IFS data for BC:</p> <pre><code>sbatch -A &lt;account&gt; icontools/C2SM/remap_lbc\n</code></pre> </li> <li> <p>Remap IFS data for analysis:</p> <pre><code>sbatch -A &lt;account&gt; icontools/C2SM/remap_ini\n</code></pre> </li> </ul>"},{"location":"tools/icontools/#documentation","title":"Documentation","text":"<ul> <li>A TeX version  of the official documentation is in the repository</li> <li>A pdf version , Sept 2023</li> </ul>"},{"location":"tools/int2lm/","title":"INT2LM","text":"<p>INT2LM is an interpolation program providing boundary and/or initial conditions to the COSMO model.</p>"},{"location":"tools/int2lm/#support-status","title":"Support status","text":"<p>The <code>master</code> branch is continuously being tested on Piz Daint</p>"},{"location":"tools/int2lm/#access","title":"Access","text":"<p>In order to get access to the INT2LM repository hosted on the C2SM-RCM GitHub organisation ,  please contact C2SM Support.</p>"},{"location":"tools/int2lm/#compile","title":"Compile","text":"<p>Spack takes care of configuring and building INT2LM. For detailed instructions, please consider the official spack-c2sm documentation .</p>"},{"location":"tools/int2lm/#additional-features-for-c2sm-version","title":"Additional features for C2SM version","text":"<p>There are features that could not be merged into the COSMO-ORG version before the end of development. Therefore, a separate branch c2sm-features  was created.</p>"},{"location":"tools/int2lm/#read-only-subset-of-coarse-netcdf-input-data","title":"Read only subset of coarse netcdf input data","text":"<p>Add new namelist entries for passing start indices of NetCDF input.  This mitigates slowdown for large input files via new namelist parameters in namelist <code>&amp;GRID_IN</code>:</p> <ul> <li><code>ie_in_start_io</code> (start index in <code>i</code>-direction)</li> <li><code>je_in_start_io</code> (start index in <code>k</code>-direction) </li> </ul> <p>The parameters <code>ie_in_tot</code> and <code>je_in_tot</code> define the length of the data to be read, instead of the total length present in the NetCDF input file. </p>"},{"location":"tools/int2lm/#schematic-about-the-two-ways-for-reading-netcdf-input-files","title":"Schematic about the two ways for reading NetCDF input files","text":""},{"location":"tools/processing_chain/","title":"Processing Chain","text":"<p>The Processing Chain is a collection of Python scripts to prepare necessary input data, submit compute jobs to the queue on Piz Daint and to apply post-processing steps to many pre-defined setups of the COSMO and ICON models.  In addition to their standard versions, it can als handle several variants of these models, namely COSMO-GHG, COSMO-ART and ICON-ART. The chain can be flexibly adapted according to your needs, e.g., by creating your own case, adding new jobs or custom scripts.</p> <p>The code is the product of a joint collaboration between Empa and C2SM.  It was originally developed by Christoph Knote using pure Bash scripts. In 2018, Empa's Atmospheric Modelling and Remote Sensing group  translated the code into Python, making it more flexible and easier to maintain.</p> <p>Since 2021, the Processing Chain has been distributed to the entire C2SM community and is being hosted on the C2SM GitHub organisation . Regular testing is done via Jenkins  (requires access) to ensure that the code runs stably on the system.</p> <p>If you need any help, please contact Michael J\u00e4hn .</p>"},{"location":"tools/processing_chain/#support-status","title":"Support Status","text":"<p>The <code>main</code> branch is continuously being tested on Piz Daint.</p>"},{"location":"tools/processing_chain/#features","title":"Features","text":"<ul> <li>Automatic folder structure creation</li> <li>Asynchronous job submission</li> <li>Easy creation of own cases</li> <li>Namelist templates</li> <li>Nested runs possible</li> <li>Different examples for COSMO and ICON available</li> <li>and much more!</li> </ul>"},{"location":"tools/processing_chain/#code-and-documentation","title":"Code and Documentation","text":"<ul> <li>Processing Chain at the C2SM Github organisation </li> <li>Documentation </li> </ul>"},{"location":"tools/processing_chain/#other-resources","title":"Other Resources","text":"<ul> <li>Poster from COSMO/ICON User Workshop 2024 </li> </ul>"},{"location":"tools/scaling_analysis/","title":"Scaling Analysis Tool","text":"<p>The Scaling Analysis Tool automates the creation of multiple ICON run scripts for a given experiment, varying the number of nodes to assess strong scaling efficiency. Strong scaling efficiency measures how effectively the task's performance improves with more nodes. It then analyses the experiment runs, extracts timing data from log files, and generates summary plots that show efficiency, node hours, and wallclock time in relation to the number of nodes used.</p> <p>The tool comes in handy when applying for a production project at CSCS , as a technical report is required that must include the following information:</p> <ul> <li>Representative benchmarks and scaling</li> <li>Resource justification (annual node hours and disk space)</li> </ul> <p>The plots created by the Scaling Analysis Tool can be used directly for the  proposal.</p>"},{"location":"tools/scaling_analysis/#code-and-documentation","title":"Code and Documentation","text":"<ul> <li>Scaling Analysis Tool </li> </ul>"},{"location":"tools/spice/","title":"SPICE","text":"<p>SPICE stands for Starter Package for ICON-CLM Experiments. It is a processing chain that handles pre-processing of the input, setting up namelists, running the simulation and archiving/post-processing. It contains the latest setup for ICON-CLM runs by the CLM community.</p> <p>The code has been adapted for running on Piz Daint and is distributed to users via the C2SM GitHub organisation. Regular testing is done via Jenkins  (requires access) to ensure that the code runs stably on the system.</p> <p>If there are any questions or you want to provide your ICON-CLM setup, please contact Michael J\u00e4hn .</p>"},{"location":"tools/spice/#support-status","title":"Support status","text":"<p>The <code>main</code> branch is continuously being tested on Piz Daint.</p>"},{"location":"tools/spice/#code","title":"Code","text":"<ul> <li>Spice at the C2SM Github organization </li> <li>Spice at DKRZ GitLab (original code)  (requires access to DKRZ GitLab)</li> </ul>"},{"location":"tools/spice/#documentation","title":"Documentation","text":"<ul> <li>https://clm-docs.scrollhelp.site/spice-doc/ </li> </ul>"},{"location":"tools/zephyr/","title":"Climate Data Extraction Tool","text":"<p>Zephyr is the climate data extraction tool developed by C2SM, serving as the backend processing engine for the Zephyr website .</p>"},{"location":"tools/zephyr/#support-status","title":"Support status","text":"<p>The <code>main</code> branch is tested daily and for incoming changes via GitHub pull requests.</p> <p>Scans of the datasets listed below are performed daily, generating file trees in JSON format. This ensures that the data information for the Zephyr website  is kept up to date.</p>"},{"location":"tools/zephyr/#features","title":"Features","text":"<p>Requests are made via the Zephyr website  and submitted using the Zephyr data request template . Zephyr supports a range of climate models and reanalysis datasets, including:</p> <ul> <li>CMIP5</li> <li>CMIP6</li> <li>CORDEX</li> <li>CORDEX ReKliEs</li> <li>ERA5</li> <li>ERA5 land</li> <li>CERRA</li> <li>CERRA land</li> </ul> <p>Zephyr efficiently extracts both regional and global climate datasets, with options to retrieve data at individual nearest grid points or within a user-defined rectangular area. Once a request has been successfully submitted and processed, a download link will be posted to the GitHub issue thread where the request was submitted. The download link will be available for up to seven days.</p>"},{"location":"tools/zephyr/#code","title":"Code","text":"<ul> <li>Zephyr  on GitHub</li> </ul>"},{"location":"tools/zephyr/#local-processing-at-iac","title":"Local Processing at IAC","text":"<p>If you have access to IAC servers, you can use Zephyr directly without submitting your request via the Zephyr data request template . To do this, clone and install the tool in your workspace by following the instructions in the Zephyr README . Once installed, you can process requests created via the Zephyr website using the following command:</p> <pre><code>python launch_zephyr.py --json_path=/path/to/your/request --output_directory=/path/to/your/output/directory\n</code></pre>"},{"location":"blog/archive/2024/","title":"2024","text":""},{"location":"blog/archive/2023/","title":"2023","text":""}]}