# ICON Meeting 2024/3

*25 September 2024, ETH Zurich (L 17.1) and via Zoom*

## Participants (on-site)
Michael Jähn (MJ),
Matthieu Leclair (ML),
Annika Lauber (AL),
Tina Schnadt (TS),
Doris Folini (DF),
Anurag Dipankar (AD),
Diego Villanueva (AV),
Andrina Caratsch (AC)


## Participants (Zoom)
Matthias Kraushaar (MK),
Marco Arpagaus (MA),
Brigitta Goger (BG),
Arash Hamzehloo (AH),
Mikael Stellio (MS),
Christian Steger (CS),
Will Sawyer (WS),
Nander Wever (NW)



_Minutes by Annika Lauber_

## Reports

### C2SM (Michael Jähn, Annika Lauber, Matthieu Leclair)
MJ welcomes everyone and shares the [latest news about ICON from C2SM :material-open-in-new:](){:target="_blank"}.

AD asks about transient aerosol port and who helped to fix the bug.
AL answers that many people were involved and that it were actually 3 bugs, which made it really hard to find.
MJ: The port also takes so long because many people are involved and communication can take a while.

WS asks if prepartory projects can really be submitted at any time
MK project proposals will be gathered for the deadlines but any time for preparatory projects.

CS isolrad: what is that doing?
MJ cannot say much

AH Alps: were giving access to Daint but don't have user env on Daint. Struggle with ICON on new system. Erik was trying to compile ICON with MJ helps, he managed to. Asks if they should ahve access to Säntis rather than Daint?
ML: question that goes back to CSCS. Whatever CSCS decides, WEatehr on climate only on Säntis or shared between Säntis and Tödi. Ben Cumming thought everything should run on Säntis. As soon as we have information from CSCS how it's gonna be, we will support it. Is your access in form of a prepraroty project?
AH it's a bigger project. Thought they have admin right to create user env. 
ML says that they can. At the beginning we should rely on what is available
MK difference betwen tödi säntis and alps will be very minimal. It should work the same way on all systems. You don't need admin roight to create user env. But it will take some time to get used to the new system. He can imagine o start tagging user env made for a certain system. But most of them should be visible. Posts two links:
- General information: https://github.com/eth-cscs/UserLabDay/blob/master/2024/general_information_alps.pdf
- GitHub repo: https://github.com/eth-cscs/UserLabDay/tree/master/2024
AH asks if it will be Daint or Säntis on the long run
MK says that säntis is exclusively to climate and weather but mainly to ICON (EXCLAIM). There will be a few things going to Daint.
DF my collegeues are also doing benchmarking on Tödi, now on Daint.Alps. The images were not availble on Tödi were missing on Daint.Alps. Will they come?
ML says that you should not rely on his images anymore. There is a workaround with the user env. You can make querys to the data base to see what is installed on the system.
DF is that true also if you don't have access to Tödi?
ML thinks yes
DF can we hope that the images on Tödi will be on Daint?
ML even if it's not the long term solution, it should be deployed on Daint. It's not straightforward like it is right now.
DF many people have to do the benchmarking till October
AH we should be able to compile ICON by loading the user env without those images?
ML software slack image is the same as the user env. On each cluster of have access to the uenvs. It's not always straightforward to use it. At the moment the images are interchangable but they still depend on the OS? It could be the future that a uenv on one cluster doesnt work on the other
MK yes the risk is there. They have seen compatability for MCH. Regarding images on DAint: the nvidia part is not there. It was not provided completely, which is why he created another env. Not preloaded on the system, so you have to look for them using the uenv tool.
uenv image find -s todi (not checking if you have access to todi). You can give this a try.

BG uses tödi. Instructions on C2SM worked but 2 weeks later executables did not work anymore and instructions were gone.
ML there is now the Alps section on landing page. should be possbile to do the same as before but dont use absolute path to my env. You can now do it with tags. Instructions are on workshop material page but also on user landing page. dont hesitate to annoy ML on Slack

AD empa uses icon-art. did you manage to run this also?
ML no, only been testing regular icon. Erik was successful in compiling
AH yes he was but he followed the workaround.
AD there is a plan for C2SM to compile ICON-ART?
ML not in the C2SM pipeline. We suggest that users come up with a test case and we help setting up the ci infrasctructure.
AH says that they have test case (icon-kit) but very old and needs to be updated.
MJ icon-art is now part of icon-nwp. You could set up test case , which we could add
DF default version of ICON. Had to work on runscripts, are they planned to be used on Alps like this.
ML not yet on the final ICON
DF do you have a timeline
ML will still take a bit of time
MJ we provide latest os release and our testing
WS: Jonas corporated CSCS-CI into normal BB workflow. Software largly available. Sets up service user. Have project for that. A few things to do before Jonas gets back. Discussion about mechansim for triggering the runners, so we have to talk to Ralf and Sergey. 3 or 4 works till CI system is running (cant be much longer as they want to have overlap with Piz Daint, so end of October).
ML: whole CI infrascture but the runscripts are available.
DF experience last week: if doing simple test case (helsuare) has to furnish runscript herself. If using job reporting tool suggested by CSCS
WS: we will have to talk about as he is not immediately involved in. Wants to talk about it offline with Matthias 
DF: there are several people relying on that.

AH is there issue with MPI
MJ: problem related to async io not mpi. probably related to cscs.


### Doris Folini
tried to do benchmarking with latest icon on C2SM website. Trying to find input files. REalizing that uenv using default moutn point, no longer using default mount point.
ML there has been a small change. Now trying to access metadata, which wasnt availble first. So download again.
DF looked around various resources. keeps struggling: needed to recompile from scratch if jsbach wanted for example?
ML not a small change, so probably yes. Not like changing source file

### Anurag Dipankar
left

### Diego Villanueva
planning to use icon-ham. postdoc will start next year. maybe also going into icon-clm. hoping it will be ready next year

### Andrina Caratsch
aerosol-cloud interactions int tropical cyclons, going to ICON-hma

### Nander Wever
works for MCH and SLF. looking at mixed snow component in icon. should become operational in icon. Multilayer snow model.

### Marco Arpagaus
switched of COSMO two weeks ago. It is still running in other countries. nix corresponds to terra. should start working on reanalysis using 20 years reanalysis data.

### Brigitta Goger
recent month wrote to icon publicaion. cloudson icon
https://rmets.onlinelibrary.wiley.com/doi/10.1002/qj.4799
https://egusphere.copernicus.org/preprints/2024/egusphere-2024-1989/

### Arash Hamzehloo
porting components of art to gpu. trying to compile icon-art on new system

### Mikael Stellio
icon-ham with Sylvaine. Mainly on GPU site. worked on transtioning odl daint to new daint. Compiling on GPU. started running on 10km resolution run. had problems at runtime but now working and is doing benchmarking now.

### Christian Steger
MCH: radiation topography scheme in icon. besides extpar related fields, new topography set. supervising a master thesis project with BG: high resolution land use data. Work mainly focused on extpar related icon stuff

### Will Sawyer
has been working on benchmarking the icon on the new system. Alps was officially inaugarated on Saturday. Benchmarked various varient of icon. prepares presentation: one for this afternoon at exclaim. Can share early version. Shares screen

### Matthias Kraushaar
service manager for climate & weather. By training not related to weather & climate but can feel the pain. Task is to be the find the solution to get work going. Alps is very good for ML, which will aslo become part of the climate & weather. Will help to introduce the new futures. They created Slack space for user. Will create chanel for weather & climate platform. Will be monitoring chanel from cscs side but if it's too technical, it should become a ticket.
WS: failing nodes: what is the channel to report?
MK it could be the icon channel. you can also open a ticket.
WS: there is no data base for people to check what is currently failing
MK working on status pages. They could also use that to communicate issues.

